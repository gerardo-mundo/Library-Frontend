"use strict";(self.webpackChunktest_app=self.webpackChunktest_app||[]).push([[48],{8048:(ts,A,c)=>{c.r(A),c.d(A,{DashboardModule:()=>Qi});var h=c(177),n=c(4341),p=c(5779),G=c(6448),e=c(540),B=c(5887);let O=(()=>{class i{constructor(t){this.document=t;const s=localStorage.getItem("theme");s&&(this.themeSelection="dark"===s),this.switchTheme(this.themeSelection)}switchTheme(t){const s=t?"dark":"light";localStorage.setItem("theme",s),this.document.getElementById("app-theme").href=`lara-${s}-indigo.css`}static#e=this.\u0275fac=function(s){return new(s||i)(e.KVO(h.qQ))};static#t=this.\u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var K=c(1631);function W(i,r){1&i&&e.nrm(0,"span",3)}function z(i,r){1&i&&e.nrm(0,"span",4)}let H=(()=>{class i{constructor(t){this.themeService=t}ngOnInit(){this.checked=this.themeService.themeSelection}changeTheme(){this.themeService.switchTheme(this.checked)}static#e=this.\u0275fac=function(s){return new(s||i)(e.rXU(O))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["shared-theming-button"]],decls:4,vars:3,consts:[[1,"card","flex","justify-content-center","align-items-center"],[3,"ngIf"],[3,"ngModel","ngModelChange","onChange"],[1,"pi","pi-sun","mr-2",2,"font-size","1.3rem"],[1,"pi","pi-moon","ml-2",2,"font-size","1rem"]],template:function(s,o){1&s&&(e.j41(0,"div",0),e.DNE(1,W,1,0,"ng-template",1),e.j41(2,"p-inputSwitch",2),e.bIt("ngModelChange",function(l){return o.checked=l})("onChange",function(){return o.changeTheme()}),e.k0s(),e.DNE(3,z,1,0,"ng-template",1),e.k0s()),2&s&&(e.R7$(1),e.Y8G("ngIf",!o.checked),e.R7$(1),e.Y8G("ngModel",o.checked),e.R7$(1),e.Y8G("ngIf",o.checked))},dependencies:[h.bT,K.HW,n.BC,n.vS],encapsulation:2})}return i})();var Q=c(9114),_=c(1141),Z=c(6351),D=c(8542),ee=c(5144);const te=function(i){return{"background-color":i,color:"#ffffff"}};function ie(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",3),e.nrm(1,"p-avatar",4),e.j41(2,"p-button",5),e.bIt("click",function(o){e.eBV(t);const a=e.sdS(4);return e.Njj(a.toggle(o))}),e.k0s(),e.nrm(3,"p-menu",6,7)(5,"shared-theming-button"),e.k0s()}if(2&i){const t=e.XpG();e.R7$(1),e.Aen(e.eq3(7,te,t.stringToColor(t.fullName))),e.Y8G("label",t.initials),e.R7$(1),e.Y8G("fitContent",!0)("label","ger.mundo@gmail.com"),e.R7$(1),e.Y8G("model",t.accountOptions)("popup",!0)}}let se=(()=>{class i{ngOnInit(){this.firstLetter="G",this.firstLetterLN="M",this.initials=this.firstLetter+this.firstLetterLN,this.fullName="Gerardo Mundo",this.accountOptions=[{label:"Opciones",items:[{label:"Cambiar contrase\xf1a",icon:p.EE.USER_EDIT,routerLink:"change-password"},{label:"Cerrar sesi\xf3n",icon:p.EE.SIGN_OUT,routerLink:"/auth/login",command:()=>this.authService.logout()}]}],this.items=[{label:"Libros",icon:p.EE.BOOK,items:[{label:"Lista",icon:p.EE.LIST,routerLink:"books"},{label:"Agregar",icon:p.EE.PLUS,routerLink:"add-book"},{label:"Editar",icon:p.EE.FILE_EDIT,routerLink:"edit-book"}]},{label:"Tesis",icon:p.EE.BOOKMARK,items:[{label:"Lista",icon:p.EE.LIST,routerLink:"thesis"},{label:"Agregar",icon:p.EE.PLUS,routerLink:"add-thesis"},{label:"Editar",icon:p.EE.FILE_EDIT,routerLink:"edit-thesis"}]},{label:"Publicaciones",icon:p.EE.BOOKMARK_FILL,items:[{label:"Lista",icon:p.EE.LIST,routerLink:"publications"},{label:"Agregar",icon:p.EE.PLUS,routerLink:"add-publication"},{label:"Editar",icon:p.EE.FILE_EDIT,routerLink:"edit-publication"}]}]}constructor(t){this.authService=t}stringToColor(t){let o,s=0;for(o=0;o<t.length;o+=1)s=t.charCodeAt(o)+((s<<5)-s);let a="#";for(o=0;o<3;o+=1)a+=`00${(s>>8*o&255).toString(16)}`.slice(-2);return a}static#e=this.\u0275fac=function(s){return new(s||i)(e.rXU(B.k))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["dashboard-menu-bar"]],decls:3,vars:1,consts:[[1,"card","px-10"],["styleClass","py-4",3,"model"],["pTemplate","end"],[1,"flex","align-items-center","mr-4"],["size","large",3,"label"],["icon","pi pi-cog","iconPos","right","pTooltip","Opciones de cuenta","tooltipPosition","bottom","severity","info","styleClass","p-button-text",3,"fitContent","label","click"],[3,"model","popup"],["menu",""]],template:function(s,o){1&s&&(e.j41(0,"div",0)(1,"p-menubar",1),e.DNE(2,ie,6,9,"ng-template",2),e.k0s()()),2&s&&(e.R7$(1),e.Y8G("model",o.items))},dependencies:[H,Q.e,_.$n,p.Ei,Z.n2,D.m,ee.W1],encapsulation:2})}return i})(),oe=(()=>{class i{static#e=this.\u0275fac=function(s){return new(s||i)};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-layout"]],decls:2,vars:0,template:function(s,o){1&s&&e.nrm(0,"dashboard-menu-bar")(1,"router-outlet")},dependencies:[G.n3,se],encapsulation:2})}return i})();const F=(i,r)=>r.controls[i].errors&&r.controls[i].touched,b=(i,r)=>{if(!r.controls[i].errors)return null;const t=r.controls[i].errors??{};for(const s of Object.keys(t))switch(s){case"required":return"*Este campo es requerido";case"minlength":return`*${r.controls[i].value.length} no es una extensi\xf3n m\xednima v\xe1lida`;case"maxlength":return`*${r.controls[i].value.length} es superior al l\xedmite de caracteres`;case"cantBeZero":return"*Debe ser mayor a cero";case"email":return`*${r.controls[i].value} no es un email v\xe1lido`;case"pattern":return"*La contrase\xf1a debe tener un n\xfamero, un caracter especial y una may\xfascula"}return null},C=i=>i.value<=0?{cantBeZero:!0}:null;var E=c(1626),u=c(9437),m=c(1171),R=c(5312);let S=(()=>{class i{constructor(t){this.http=t,this.BASE_URL=R.M.BASE_URL,this.headers={headers:new E.Lr({"Content-Type":"application/json-patch+json"})}}createAccount(t){return this.http.post(`${this.BASE_URL}/accounts/register`,t).pipe((0,u.W)(s=>(0,m.u)(s)))}getAccountsList(){return this.http.get(`${this.BASE_URL}/accounts/get-accounts`).pipe((0,u.W)(t=>(0,m.u)(t)))}updatePassword(t){return this.http.patch(`${this.BASE_URL}/accounts/update-password`,t,this.headers).pipe((0,u.W)(s=>(0,m.u)(s)))}makeAdminAccount(t){return this.http.post(`${this.BASE_URL}/accounts/make-admin`,{email:t}).pipe((0,u.W)(o=>(0,m.u)(o)))}removeAdminAccount(t){return this.http.post(`${this.BASE_URL}/accounts/remove-admin`,{email:t}).pipe((0,u.W)(o=>(0,m.u)(o)))}static#e=this.\u0275fac=function(s){return new(s||i)(e.KVO(E.Qq))};static#t=this.\u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var ne=c(229),g=c(7722);let y=(()=>{class i{static#e=this.\u0275fac=function(s){return new(s||i)};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["dashboard-add-button"]],inputs:{isLoading:"isLoading",invalid:"invalid",label:"label"},decls:4,vars:3,consts:[["type","submit","pButton","","pRipple","",1,"sm:w-max","w-full","justify-content-center","mt-4",3,"disabled","loading"],[1,"mr-2","font-medium"],[1,"pi","pi-save"]],template:function(s,o){if(1&s&&(e.j41(0,"button",0)(1,"span",1),e.EFF(2),e.k0s(),e.nrm(3,"i",2),e.k0s()),2&s){let a;e.Y8G("disabled",o.invalid)("loading",o.isLoading),e.R7$(2),e.JRh(null!==(a=o.label)&&void 0!==a?a:"Agregar")}},dependencies:[_._f],encapsulation:2})}return i})();function re(i,r){if(1&i&&(e.j41(0,"small",13),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(1),e.JRh(t.displayError("firstPassword"))}}function ae(i,r){if(1&i&&(e.j41(0,"small",13),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(1),e.JRh(t.displayError("password"))}}const $=function(){return{width:"100%"}},V=function(i){return{"ng-invalid ng-dirty":i}};let le=(()=>{class i{constructor(t,s,o){this.fb=t,this.accountsService=s,this.messageService=o,this.loading=!1,this.passwordForm=this.fb.group({firstPassword:["",[n.k0.required,n.k0.minLength(7),n.k0.pattern("^(?=.*[A-Z])(?=.*\\d)(?=.*[!@#$%^&*()-_+=])[A-Za-z\\d!@#$%^&*()-_+=]{7,}$")]],password:["",[n.k0.required,n.k0.minLength(7),n.k0.pattern("^(?=.*[A-Z])(?=.*\\d)(?=.*[!@#$%^&*()-_+=])[A-Za-z\\d!@#$%^&*()-_+=]{7,}$")]]})}onChangePassword(){const{firstPassword:t,password:s}=this.passwordForm.value,o={password:s};if(t!==s)return this.messageService.add({severity:"error",summary:"Error",detail:"Las contrase\xf1as deben ser iguales"}),void this.passwordForm.markAllAsTouched();this.loading=!0,this.accountsService.updatePassword(o).subscribe({next:()=>{this.messageService.add({severity:"success",summary:"\xc9xito",detail:"Contrase\xf1a actualizada"}),this.loading=!1},error:a=>{this.messageService.add({severity:"error",summary:"Ups",detail:`${a}`}),this.loading=!1}})}isValidField(t){return F(t,this.passwordForm)}displayError(t){return b(t,this.passwordForm)}static#e=this.\u0275fac=function(s){return new(s||i)(e.rXU(n.ok),e.rXU(S),e.rXU(p.bg))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-change-password-page"]],decls:18,vars:25,consts:[[1,"text-primary","mt-4","ml-2"],[1,"flex","flex-column","align-items-center","surface-section","py-6","px-4",3,"formGroup","ngSubmit"],[1,"w-full","sm:w-6","mb-6"],[1,"p-float-label","mt-5"],["formControlName","firstPassword","promptLabel","Seguridad de tu contrase\xf1a",1,"w-full",3,"toggleMask","inputStyle","ngClass"],["htmlFor","firstPassword"],["class","ml-2 text-red-500",4,"ngIf"],[1,"w-full","sm:w-6"],["formControlName","password",1,"w-full",3,"toggleMask","inputStyle","feedback","ngClass"],["htmlFor","password"],[1,"flex","w-full","flex-column","sm:w-6"],[3,"isLoading","label","invalid"],["position","top-center"],[1,"ml-2","text-red-500"]],template:function(s,o){if(1&s&&(e.j41(0,"p",0),e.EFF(1,"Registra una nueva cuenta en el sistema"),e.k0s(),e.j41(2,"form",1),e.bIt("ngSubmit",function(){return o.onChangePassword()}),e.j41(3,"div",2)(4,"div",3),e.nrm(5,"p-password",4),e.j41(6,"label",5),e.EFF(7,"Contrase\xf1a"),e.k0s()(),e.DNE(8,re,2,1,"small",6),e.k0s(),e.j41(9,"div",7)(10,"div",3),e.nrm(11,"p-password",8),e.j41(12,"label",9),e.EFF(13,"Repite tu contrase\xf1a"),e.k0s()(),e.DNE(14,ae,2,1,"small",6),e.k0s(),e.j41(15,"div",10),e.nrm(16,"dashboard-add-button",11),e.k0s(),e.nrm(17,"p-toast",12),e.k0s()),2&s){let a,l;e.R7$(2),e.Y8G("formGroup",o.passwordForm),e.R7$(3),e.Aen(e.lJ4(17,$)),e.Y8G("toggleMask",!0)("inputStyle",e.lJ4(18,$))("ngClass",e.eq3(19,V,(null==(a=o.passwordForm.get("firstPassword"))?null:a.invalid)&&((null==(a=o.passwordForm.get("firstPassword"))?null:a.dirty)||(null==(a=o.passwordForm.get("firstPassword"))?null:a.touched)))),e.R7$(3),e.Y8G("ngIf",o.isValidField("firstPassword")),e.R7$(3),e.Aen(e.lJ4(21,$)),e.Y8G("toggleMask",!0)("inputStyle",e.lJ4(22,$))("feedback",!1)("ngClass",e.eq3(23,V,(null==(l=o.passwordForm.get("password"))?null:l.invalid)&&((null==(l=o.passwordForm.get("password"))?null:l.dirty)||(null==(l=o.passwordForm.get("password"))?null:l.touched)))),e.R7$(3),e.Y8G("ngIf",o.isValidField("password")),e.R7$(2),e.Y8G("isLoading",o.loading)("label","Guardar")("invalid",o.passwordForm.invalid)}},dependencies:[h.YU,h.bT,n.qT,n.BC,n.cb,n.j4,n.JD,ne._2,g.y8,y],encapsulation:2})}return i})();var f=c(2242);function pe(i,r){if(1&i&&(e.j41(0,"small",18),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(1),e.JRh(t.displayError("email"))}}function ce(i,r){if(1&i&&(e.j41(0,"small",18),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(1),e.JRh(t.displayError("password"))}}function ue(i,r){if(1&i&&(e.j41(0,"small",18),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(1),e.JRh(t.displayError("name"))}}function me(i,r){if(1&i&&(e.j41(0,"small",18),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(1),e.JRh(t.displayError("lastName"))}}function de(i,r){if(1&i&&(e.j41(0,"small",18),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(1),e.JRh(t.displayError("employeeKey"))}}let he=(()=>{class i{constructor(t,s,o){this.fb=t,this.accountsService=s,this.messageService=o,this.registerForm=this.fb.group({email:["",[n.k0.required,n.k0.email]],password:["",[n.k0.required,n.k0.minLength(7),n.k0.pattern("^(?=.*[A-Z])(?=.*\\d)(?=.*[!@#$%^&*()-_+=])[A-Za-z\\d!@#$%^&*()-_+=]{7,}$")]],name:["",[n.k0.required,n.k0.maxLength(100)]],lastName:["",[n.k0.required,n.k0.maxLength(100)]],employeeKey:["",[n.k0.required,n.k0.maxLength(10),n.k0.minLength(10)]]}),this.loading=!1}onNewAccount(){this.registerForm.invalid?this.registerForm.markAllAsTouched():(this.loading=!0,this.accountsService.createAccount(this.registerForm.value).subscribe({next:()=>{this.messageService.add({severity:"success",summary:"\xc9xito",detail:"Publicaci\xf3n agregada correctamente"}),this.loading=!1,this.registerForm.reset()},error:t=>{this.messageService.add({severity:"error",summary:"Ups",detail:`${t}`}),this.loading=!1}}))}isValidField(t){return F(t,this.registerForm)}displayError(t){return b(t,this.registerForm)}static#e=this.\u0275fac=function(s){return new(s||i)(e.rXU(n.ok),e.rXU(S),e.rXU(p.bg))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-new-account-page"]],decls:36,vars:9,consts:[[1,"flex","flex-column","align-items-center","surface-section","py-6","px-4",3,"formGroup","ngSubmit"],[1,"text-primary","mt-4","ml-2"],[1,"w-full","sm:w-6"],[1,"p-float-label","mt-5"],["formControlName","email","type","text","pInputText","","id","email",1,"w-full"],["htmlFor","email"],["class","ml-2 text-red-500",4,"ngIf"],["formControlName","password","type","password","pInputText","","id","password",1,"w-full"],["htmlFor","password"],["formControlName","name","type","text","pInputText","","id","name",1,"w-full"],["htmlFor","name"],["formControlName","lastName","type","text","pInputText","","id","lastName",1,"w-full"],["htmlFor","lastName"],["formControlName","employeeKey","type","text","pInputText","","id","employeeKey",1,"w-full"],["htmlFor","employeeKey"],[1,"flex","w-full","flex-column","sm:w-6"],[3,"isLoading","label","invalid"],["position","top-center"],[1,"ml-2","text-red-500"]],template:function(s,o){1&s&&(e.j41(0,"form",0),e.bIt("ngSubmit",function(){return o.onNewAccount()}),e.j41(1,"p",1),e.EFF(2,"Registra una nueva cuenta en el sistema"),e.k0s(),e.j41(3,"div",2)(4,"div",3),e.nrm(5,"input",4),e.j41(6,"label",5),e.EFF(7,"Correo"),e.k0s()(),e.DNE(8,pe,2,1,"small",6),e.k0s(),e.j41(9,"div",2)(10,"div",3),e.nrm(11,"input",7),e.j41(12,"label",8),e.EFF(13,"Contrase\xf1a"),e.k0s()(),e.DNE(14,ce,2,1,"small",6),e.k0s(),e.j41(15,"div",2)(16,"div",3),e.nrm(17,"input",9),e.j41(18,"label",10),e.EFF(19,"Nombres"),e.k0s()(),e.DNE(20,ue,2,1,"small",6),e.k0s(),e.j41(21,"div",2)(22,"div",3),e.nrm(23,"input",11),e.j41(24,"label",12),e.EFF(25,"Apellidos"),e.k0s()(),e.DNE(26,me,2,1,"small",6),e.k0s(),e.j41(27,"div",2)(28,"div",3),e.nrm(29,"input",13),e.j41(30,"label",14),e.EFF(31,"Clave de empleado"),e.k0s()(),e.DNE(32,de,2,1,"small",6),e.k0s(),e.j41(33,"div",15),e.nrm(34,"dashboard-add-button",16),e.k0s(),e.nrm(35,"p-toast",17),e.k0s()),2&s&&(e.Y8G("formGroup",o.registerForm),e.R7$(8),e.Y8G("ngIf",o.isValidField("email")),e.R7$(6),e.Y8G("ngIf",o.isValidField("password")),e.R7$(6),e.Y8G("ngIf",o.isValidField("name")),e.R7$(6),e.Y8G("ngIf",o.isValidField("lastName")),e.R7$(6),e.Y8G("ngIf",o.isValidField("employeeKey")),e.R7$(2),e.Y8G("isLoading",o.loading)("label","Guardar")("invalid",o.registerForm.invalid))},dependencies:[h.bT,n.qT,n.me,n.BC,n.cb,n.j4,n.JD,f.S,g.y8,y],encapsulation:2})}return i})();var d=c(8330);function ge(i,r){1&i&&(e.j41(0,"tr")(1,"th",6),e.EFF(2,"Nombre(s)"),e.k0s(),e.j41(3,"th",6),e.EFF(4,"Apellidos"),e.k0s(),e.j41(5,"th",6),e.EFF(6,"Email"),e.k0s(),e.j41(7,"th",6),e.EFF(8,"Num. de empleado"),e.k0s(),e.j41(9,"th",6),e.EFF(10,"Volver administrador"),e.k0s()())}function fe(i,r){1&i&&(e.qex(0),e.nrm(1,"i",13),e.bVm())}function _e(i,r){1&i&&(e.j41(0,"span",14),e.EFF(1,"Aceptar"),e.k0s())}function Fe(i,r){1&i&&(e.qex(0),e.nrm(1,"i",13),e.bVm())}function be(i,r){1&i&&(e.j41(0,"span",14),e.EFF(1,"Remover"),e.k0s())}function ke(i,r){if(1&i){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td")(10,"div",7)(11,"button",8),e.bIt("click",function(){const a=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.onMakeAdmin(null==a?null:a.email))}),e.DNE(12,fe,2,0,"ng-container",9),e.DNE(13,_e,2,0,"ng-template",null,10,e.C5r),e.k0s(),e.j41(15,"button",11),e.bIt("click",function(){const a=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.onRemoveAdmin(null==a?null:a.email))}),e.DNE(16,Fe,2,0,"ng-container",9),e.DNE(17,be,2,0,"ng-template",null,12,e.C5r),e.k0s()()()()}if(2&i){const t=r.$implicit,s=e.sdS(14),o=e.sdS(18),a=e.XpG();e.R7$(2),e.JRh(t.name),e.R7$(2),e.JRh(t.lastName),e.R7$(2),e.JRh(t.email),e.R7$(2),e.JRh(t.employeeKey),e.R7$(3),e.Y8G("disabled",!a.userAccount.isAdmin||a.userAccount.email===t.email),e.R7$(1),e.Y8G("ngIf",a.isLoading)("ngIfElse",s),e.R7$(3),e.Y8G("disabled",!a.userAccount.isAdmin),e.R7$(1),e.Y8G("ngIf",a.isLoading)("ngIfElse",o)}}const ve=function(){return{"min-width":"50rem"}},Ee=function(){return[10,20]};let ye=(()=>{class i{constructor(t,s,o){this.accountsService=t,this.messageService=s,this.authService=o,this.accounts=[],this.userAccount=this.authService.getUserDataToken(),this.isLoading=!1}ngOnInit(){this.getAccounts()}getAccounts(){this.accountsService.getAccountsList().subscribe(t=>this.accounts=t)}onMakeAdmin(t){this.isLoading=!0,this.accountsService.makeAdminAccount(t).subscribe({next:()=>{this.messageService.add({severity:"success",summary:"\xc9xito",detail:`${t} ahora es administrador`}),this.isLoading=!1},error:s=>{this.messageService.add({severity:"error",summary:"Ups",detail:`${s.text}`}),this.isLoading=!1}})}onRemoveAdmin(t){this.isLoading=!0,this.accountsService.removeAdminAccount(t).subscribe({next:()=>{this.messageService.add({severity:"success",summary:"\xc9xito",detail:`${t} ya no es administrador`}),this.isLoading=!1},error:s=>{this.messageService.add({severity:"error",summary:"Ups",detail:`${s?.text}`}),console.log(s),this.isLoading=!1}})}static#e=this.\u0275fac=function(s){return new(s||i)(e.rXU(S),e.rXU(p.bg),e.rXU(B.k))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-registered-accounts-page"]],decls:7,vars:8,consts:[[1,"card","surface-section","py-6","px-4"],[1,"text-primary","ml-2","mt-4"],["currentPageReportTemplate","Mostrando {first} a {last} de {totalRecords} entradas","paginatorLocale","es-Es",3,"value","paginator","rows","showCurrentPageReport","tableStyle","rowsPerPageOptions"],["pTemplate","header"],["pTemplate","body"],["position","top-center"],[2,"width","20%"],[1,"flex","gap-2"],["type","button","pButton","","pRipple","",3,"disabled","click"],[4,"ngIf","ngIfElse"],["noLoading",""],["type","button","pButton","","pRipple","",1,"p-button-danger",3,"disabled","click"],["noLoading2",""],[1,"pi","pi-spin","pi-spinner",2,"font-size","1.4rem"],[1,"font-medium"]],template:function(s,o){1&s&&(e.j41(0,"div",0)(1,"p",1),e.EFF(2,"Lista de cuentas de administradores y auxiliares registrados:"),e.k0s(),e.j41(3,"p-table",2),e.DNE(4,ge,11,0,"ng-template",3),e.DNE(5,ke,19,10,"ng-template",4),e.k0s(),e.nrm(6,"p-toast",5),e.k0s()),2&s&&(e.R7$(3),e.Y8G("value",o.accounts)("paginator",!0)("rows",5)("showCurrentPageReport",!0)("tableStyle",e.lJ4(6,ve))("rowsPerPageOptions",e.lJ4(7,Ee)))},dependencies:[h.bT,_._f,p.Ei,d.XI,g.y8],encapsulation:2})}return i})();var k=c(8810);let x=(()=>{class i{constructor(t){this.http=t,this.baseUrl=R.M.BASE_URL}getBooks(){return this.http.get(`${this.baseUrl}/books`)}postBook(t){return null===t?(0,k.$)(()=>new Error("Valores incorrectos")):this.http.post(`${this.baseUrl}/books`,t).pipe((0,u.W)(s=>(0,m.u)(s)))}updateBook(t,s){return void 0===t||null===s?(0,k.$)(()=>new Error("Valores incorrectos")):this.http.put(`${this.baseUrl}/books/${t}`,s).pipe((0,u.W)(o=>(0,m.u)(o)))}deleteBook(t){return null===t?(0,k.$)(()=>new Error(`${t} no es un Id v\xe1lido`)):this.http.delete(`${this.baseUrl}/books/${t}`).pipe((0,u.W)(s=>(0,m.u)(s)))}static#e=this.\u0275fac=function(s){return new(s||i)(e.KVO(E.Qq))};static#t=this.\u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function Re(i,r){if(1&i&&(e.j41(0,"small",30),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(1),e.JRh(t.displayError("title"))}}function je(i,r){if(1&i&&(e.j41(0,"small",30),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(1),e.JRh(t.displayError("authorName"))}}function xe(i,r){if(1&i&&(e.j41(0,"small",30),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(1),e.JRh(t.displayError("lastName"))}}function Te(i,r){if(1&i&&(e.j41(0,"small",30),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(1),e.JRh(t.displayError("publisher"))}}function Ce(i,r){if(1&i&&(e.j41(0,"small",30),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(1),e.JRh(t.displayError("adquisition"))}}function Se(i,r){if(1&i&&(e.j41(0,"small",30),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(1),e.JRh(t.displayError("year"))}}function $e(i,r){if(1&i&&(e.j41(0,"small",30),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(1),e.JRh(t.displayError("collection"))}}function we(i,r){if(1&i&&(e.j41(0,"small",30),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(1),e.JRh(t.displayError("copies"))}}let Ne=(()=>{class i{constructor(t,s,o){this.fb=t,this.bookService=s,this.messageService=o,this.form=this.fb.group({title:["",[n.k0.required]],authorName:["",[n.k0.required]],authorSecondName:[""],lastName:["",[n.k0.required]],authorMotherName:[""],publisher:["",[n.k0.required]],adquisition:[null,[n.k0.required,n.k0.minLength(4),C]],year:[null,[n.k0.required,n.k0.minLength(4),n.k0.maxLength(4)]],collection:["",[n.k0.required]],copies:[null,[n.k0.required,C]]}),this.loading=!1}onSave(){this.form.invalid?this.form.markAllAsTouched():(this.loading=!0,this.bookService.postBook(this.form.value).subscribe({next:()=>{this.messageService.add({severity:"success",summary:"\xc9xito",detail:"Libro agregado correctamente"}),this.loading=!1,this.form.reset()},error:t=>{this.messageService.add({severity:"error",summary:"Ups",detail:`${t}`}),this.loading=!1}}))}isValidField(t){return F(t,this.form)}displayError(t){return b(t,this.form)}static#e=this.\u0275fac=function(s){return new(s||i)(e.rXU(n.ok),e.rXU(x),e.rXU(p.bg))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-add-book-page"]],decls:70,vars:11,consts:[[1,"card","surface-section","p-6"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"font-medium","text-primary"],[1,"formgrid","grid"],[1,"field","col-12","sm:col-6"],[1,"p-float-label","mt-5"],["formControlName","title","type","text","pInputText","","id","title",1,"w-full"],["htmlFor","title"],["class","ml-2 text-red-500",4,"ngIf"],["formControlName","authorName","type","text","pInputText","","id","authorName",1,"w-full"],["htmlFor","authorName"],["formControlName","authorSecondName","type","text","pInputText","","id","authorSecondName",1,"w-full"],["htmlFor","authorSecondName"],["formControlName","lastName","type","text","pInputText","","id","lastName",1,"w-full"],["htmlFor","lastName"],["formControlName","authorMotherName","type","text","pInputText","","id","authorMotherName",1,"w-full"],["htmlFor","authorMotherName"],["formControlName","publisher","type","text","pInputText","","id","publisher",1,"w-full"],["htmlFor","publisher"],["formControlName","adquisition","type","number","pInputText","","id","adquisition",1,"w-full"],["htmlFor","adquisition"],["formControlName","year","type","year","pInputText","","id","year",1,"w-full"],["htmlFor","year"],["formControlName","collection","type","text","pInputText","","id","collection",1,"w-full"],["htmlFor","collection"],["formControlName","copies","type","number","pInputText","","id","copies",1,"w-full"],["htmlFor","copies"],[1,"flex","w-full","flex-column","sm:w-6"],[3,"isLoading","invalid"],["position","top-center"],[1,"ml-2","text-red-500"]],template:function(s,o){1&s&&(e.j41(0,"div",0)(1,"form",1),e.bIt("ngSubmit",function(){return o.onSave()}),e.j41(2,"p",2),e.EFF(3,"Agrega un nuevo libro a la colecci\xf3n:"),e.k0s(),e.j41(4,"div",3)(5,"div",4)(6,"div",5),e.nrm(7,"input",6),e.j41(8,"label",7),e.EFF(9,"T\xedtulo del libro"),e.k0s()(),e.DNE(10,Re,2,1,"small",8),e.k0s(),e.j41(11,"div",4)(12,"div",5),e.nrm(13,"input",9),e.j41(14,"label",10),e.EFF(15,"Nombre del autor"),e.k0s()(),e.DNE(16,je,2,1,"small",8),e.k0s()(),e.j41(17,"div",3)(18,"div",4)(19,"div",5),e.nrm(20,"input",11),e.j41(21,"label",12),e.EFF(22,"Segundo nombre"),e.k0s()()(),e.j41(23,"div",4)(24,"div",5),e.nrm(25,"input",13),e.j41(26,"label",14),e.EFF(27,"Apellido"),e.k0s()(),e.DNE(28,xe,2,1,"small",8),e.k0s()(),e.j41(29,"div",3)(30,"div",4)(31,"div",5),e.nrm(32,"input",15),e.j41(33,"label",16),e.EFF(34,"Apellido materno"),e.k0s()()(),e.j41(35,"div",4)(36,"div",5),e.nrm(37,"input",17),e.j41(38,"label",18),e.EFF(39,"Editorial"),e.k0s()(),e.DNE(40,Te,2,1,"small",8),e.k0s()(),e.j41(41,"div",3)(42,"div",4)(43,"div",5),e.nrm(44,"input",19),e.j41(45,"label",20),e.EFF(46,"Adquisici\xf3n"),e.k0s()(),e.DNE(47,Ce,2,1,"small",8),e.k0s(),e.j41(48,"div",4)(49,"div",5),e.nrm(50,"input",21),e.j41(51,"label",22),e.EFF(52,"A\xf1o"),e.k0s()(),e.DNE(53,Se,2,1,"small",8),e.k0s()(),e.j41(54,"div",3)(55,"div",4)(56,"div",5),e.nrm(57,"input",23),e.j41(58,"label",24),e.EFF(59,"Colecci\xf3n"),e.k0s()(),e.DNE(60,$e,2,1,"small",8),e.k0s(),e.j41(61,"div",4)(62,"div",5),e.nrm(63,"input",25),e.j41(64,"label",26),e.EFF(65,"Copias"),e.k0s()(),e.DNE(66,we,2,1,"small",8),e.k0s()(),e.j41(67,"div",27),e.nrm(68,"dashboard-add-button",28),e.k0s(),e.nrm(69,"p-toast",29),e.k0s()()),2&s&&(e.R7$(1),e.Y8G("formGroup",o.form),e.R7$(9),e.Y8G("ngIf",o.isValidField("title")),e.R7$(6),e.Y8G("ngIf",o.isValidField("authorName")),e.R7$(12),e.Y8G("ngIf",o.isValidField("lastName")),e.R7$(12),e.Y8G("ngIf",o.isValidField("publisher")),e.R7$(7),e.Y8G("ngIf",o.isValidField("adquisition")),e.R7$(6),e.Y8G("ngIf",o.isValidField("year")),e.R7$(7),e.Y8G("ngIf",o.isValidField("collection")),e.R7$(6),e.Y8G("ngIf",o.isValidField("copies")),e.R7$(2),e.Y8G("isLoading",o.loading)("invalid",o.form.invalid))},dependencies:[h.bT,n.qT,n.me,n.Q0,n.BC,n.cb,n.j4,n.JD,f.S,g.y8,y],encapsulation:2})}return i})();function Pe(i,r){1&i&&(e.j41(0,"tr")(1,"th",5),e.EFF(2,"T\xedtulo"),e.k0s(),e.j41(3,"th",5),e.EFF(4,"Autor"),e.k0s(),e.j41(5,"th",5),e.EFF(6,"Segundo nombre"),e.k0s(),e.j41(7,"th",5),e.EFF(8,"Apellido"),e.k0s(),e.j41(9,"th",5),e.EFF(10,"Apellido materno"),e.k0s(),e.j41(11,"th",5),e.EFF(12,"Editorial"),e.k0s(),e.j41(13,"th",5),e.EFF(14,"Adquisici\xf3n"),e.k0s(),e.j41(15,"th",5),e.EFF(16,"A\xf1o"),e.k0s(),e.j41(17,"th",5),e.EFF(18,"Colecci\xf3n"),e.k0s(),e.j41(19,"th",5),e.EFF(20,"Copias"),e.k0s()())}function Ie(i,r){if(1&i&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td"),e.EFF(10),e.k0s(),e.j41(11,"td"),e.EFF(12),e.k0s(),e.j41(13,"td"),e.EFF(14),e.k0s(),e.j41(15,"td"),e.EFF(16),e.k0s(),e.j41(17,"td"),e.EFF(18),e.k0s(),e.j41(19,"td"),e.EFF(20),e.k0s()()),2&i){const t=r.$implicit;e.R7$(2),e.JRh(t.title),e.R7$(2),e.JRh(t.authorName),e.R7$(2),e.JRh(t.authorSecondName),e.R7$(2),e.JRh(t.lastName),e.R7$(2),e.JRh(t.authorMotherName),e.R7$(2),e.JRh(t.publisher),e.R7$(2),e.JRh(t.adquisition),e.R7$(2),e.JRh(t.year),e.R7$(2),e.JRh(t.collection),e.R7$(2),e.JRh(t.copies)}}const Ge=function(){return{"min-width":"50rem"}},Le=function(){return[10,20]};let Ae=(()=>{class i{ngOnInit(){this.booksService.getBooks().subscribe(t=>this.books=t)}constructor(t){this.booksService=t,this.books=[]}static#e=this.\u0275fac=function(s){return new(s||i)(e.rXU(x))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-books-page"]],decls:6,vars:8,consts:[[1,"card","surface-section","py-6","px-4"],[1,"font-medium","text-primary"],["currentPageReportTemplate","Mostrando {first} a {last} de {totalRecords} entradas","paginatorLocale","es-Es",3,"value","paginator","rows","showCurrentPageReport","tableStyle","rowsPerPageOptions"],["pTemplate","header"],["pTemplate","body"],[2,"width","10%"]],template:function(s,o){1&s&&(e.j41(0,"div",0)(1,"p",1),e.EFF(2,"Inventario de libros dados de alta"),e.k0s(),e.j41(3,"p-table",2),e.DNE(4,Pe,21,0,"ng-template",3),e.DNE(5,Ie,21,10,"ng-template",4),e.k0s()()),2&s&&(e.R7$(3),e.Y8G("value",o.books)("paginator",!0)("rows",5)("showCurrentPageReport",!0)("tableStyle",e.lJ4(6,Ge))("rowsPerPageOptions",e.lJ4(7,Le)))},dependencies:[p.Ei,d.XI],encapsulation:2})}return i})();var Be=c(4412);let v=(()=>{class i{constructor(){this.isVisibleSubject=new Be.t(!1),this.isVisible$=this.isVisibleSubject.asObservable()}setVisibility(t){this.isVisibleSubject.next(t)}filtering(t,s,o){o.filterGlobal(t.target.value,s)}static#e=this.\u0275fac=function(s){return new(s||i)};static#t=this.\u0275prov=e.jDH({token:i,factory:i.\u0275fac})}return i})();var w=c(4799),L=c(1570);function De(i,r){if(1&i&&(e.j41(0,"small",26),e.EFF(1),e.k0s()),2&i){const t=e.XpG(2);e.R7$(1),e.JRh(t.displayError("title"))}}function Ve(i,r){if(1&i&&(e.j41(0,"small",26),e.EFF(1),e.k0s()),2&i){const t=e.XpG(2);e.R7$(1),e.SpI("",t.displayError("authorName")," ")}}function Xe(i,r){if(1&i&&(e.j41(0,"small",26),e.EFF(1),e.k0s()),2&i){const t=e.XpG(2);e.R7$(1),e.JRh(t.displayError("lastName"))}}function Je(i,r){if(1&i&&(e.j41(0,"small",26),e.EFF(1),e.k0s()),2&i){const t=e.XpG(2);e.R7$(1),e.JRh(t.displayError("publisher"))}}function Ue(i,r){if(1&i&&(e.j41(0,"small",26),e.EFF(1),e.k0s()),2&i){const t=e.XpG(2);e.R7$(1),e.JRh(t.displayError("adquisition"))}}function Ye(i,r){if(1&i&&(e.j41(0,"small",26),e.EFF(1),e.k0s()),2&i){const t=e.XpG(2);e.R7$(1),e.JRh(t.displayError("year"))}}function qe(i,r){if(1&i&&(e.j41(0,"small",26),e.EFF(1),e.k0s()),2&i){const t=e.XpG(2);e.R7$(1),e.JRh(t.displayError("copies"))}}function Me(i,r){if(1&i&&(e.j41(0,"form",3)(1,"div",4)(2,"label",5),e.EFF(3,"T\xedtulo"),e.k0s(),e.nrm(4,"input",6),e.DNE(5,De,2,1,"small",7),e.k0s(),e.j41(6,"div",4)(7,"label",8),e.EFF(8,"Nombre del autor"),e.k0s(),e.nrm(9,"input",9),e.DNE(10,Ve,2,1,"small",7),e.k0s(),e.j41(11,"div",4)(12,"label",10),e.EFF(13,"Segundo nombre"),e.k0s(),e.nrm(14,"input",11),e.k0s(),e.j41(15,"div",4)(16,"label",12),e.EFF(17,"Apellido"),e.k0s(),e.nrm(18,"input",13),e.DNE(19,Xe,2,1,"small",7),e.k0s(),e.j41(20,"div",4)(21,"label",14),e.EFF(22,"Apellido materno"),e.k0s(),e.nrm(23,"input",15),e.k0s(),e.j41(24,"div",4)(25,"label",16),e.EFF(26,"Editorial"),e.k0s(),e.nrm(27,"input",17),e.DNE(28,Je,2,1,"small",7),e.k0s(),e.j41(29,"div",4)(30,"label",18),e.EFF(31,"Adquisici\xf3n"),e.k0s(),e.nrm(32,"input",19),e.DNE(33,Ue,2,1,"small",7),e.k0s(),e.j41(34,"div",4)(35,"label",20),e.EFF(36,"A\xf1o"),e.k0s(),e.nrm(37,"input",21),e.DNE(38,Ye,2,1,"small",7),e.k0s(),e.j41(39,"div",4)(40,"label",22),e.EFF(41,"Colecci\xf3n"),e.k0s(),e.nrm(42,"input",23),e.k0s(),e.j41(43,"div",4)(44,"label",24),e.EFF(45,"Copias"),e.k0s(),e.nrm(46,"input",25),e.DNE(47,qe,2,1,"small",7),e.k0s()()),2&i){const t=e.XpG();e.Y8G("formGroup",t.form),e.R7$(5),e.Y8G("ngIf",t.isValidField("title")),e.R7$(5),e.Y8G("ngIf",t.isValidField("authorName")),e.R7$(9),e.Y8G("ngIf",t.isValidField("lastName")),e.R7$(9),e.Y8G("ngIf",t.isValidField("publisher")),e.R7$(5),e.Y8G("ngIf",t.isValidField("adquisition")),e.R7$(5),e.Y8G("ngIf",t.isValidField("year")),e.R7$(9),e.Y8G("ngIf",t.isValidField("copies"))}}function Oe(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",27),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.hideDialog())}),e.k0s(),e.j41(1,"button",28),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.saveBook())}),e.k0s()}}const X=function(){return{width:"450px"}};let Ke=(()=>{class i{ngOnInit(){this.utilitiesService.isVisible$.subscribe(t=>{this.isVisible=t})}ngOnChanges(t){t.book&&this.patchFormValues()}constructor(t,s,o,a){this.fb=t,this.messageService=s,this.bookService=o,this.utilitiesService=a,this.updatedBooks=new e.bkB,this.isVisible=!1,this.submitted=!1,this.form=this.fb.group({title:[this.book?.title,[n.k0.required]],authorName:[this.book?.authorName,[n.k0.required]],authorSecondName:[this.book?.authorSecondName],lastName:[this.book?.lastName,[n.k0.required]],authorMotherName:[this.book?.authorMotherName],publisher:[this.book?.publisher,[n.k0.required]],adquisition:[this.book?.adquisition,[n.k0.required,n.k0.minLength(4),C]],year:[this.book?.year,[n.k0.required,n.k0.minLength(4),n.k0.maxLength(4)]],collection:[this.book?.collection,[n.k0.required]],copies:[this.book?.copies,[n.k0.required,C]]})}hideDialog(){this.isVisible=!1}saveBook(){this.form.invalid?this.form.markAllAsTouched():(this.bookService.updateBook(this.book.id,this.form.value).subscribe({next:()=>{this.messageService.add({severity:"success",summary:"\xc9xito",detail:"Se actualiz\xf3 el registro"}),this.bookService.getBooks().subscribe(t=>this.updatedBooks.emit(t))},error:t=>{this.messageService.add({severity:"error",summary:"Ups!",detail:`${t}`})}}),this.isVisible=!1)}isValidField(t){return F(t,this.form)}displayError(t){return b(t,this.form)}patchFormValues(){this.book&&this.form.patchValue(this.book)}static#e=this.\u0275fac=function(s){return new(s||i)(e.rXU(n.ok),e.rXU(p.bg),e.rXU(x),e.rXU(v))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["dashboard-modal-dialog"]],inputs:{book:"book"},outputs:{updatedBooks:"updatedBooks"},features:[e.OA$],decls:4,vars:8,consts:[["header","Editar libro","styleClass","p-fluid",3,"visible","modal","visibleChange"],["pTemplate","content"],["pTemplate","footer"],[3,"formGroup"],[1,"field"],["for","title"],["formControlName","title","type","text","pInputText","","id","title","required",""],["class","ml-2 text-red-500",4,"ngIf"],["for","authorName"],["formControlName","authorName","type","text","pInputText","","id","authorName","required",""],["for","authorSecondName"],["formControlName","authorSecondName","type","text","pInputText","","id","authorSecondName"],["for","lastName"],["formControlName","lastName","type","text","pInputText","","id","lastName","required",""],["for","authorMotherName"],["formControlName","authorMotherName","type","text","pInputText","","id","authorMotherName"],["for","publisher"],["formControlName","publisher","type","text","pInputText","","id","publisher","required",""],["for","adquisition"],["formControlName","adquisition","type","number","pInputText","","id","adquisition","required",""],["for","year"],["formControlName","year","type","year","pInputText","","id","year","required",""],["for","collection"],["formControlName","collection","type","text","pInputText","","id","collection"],["for","copies"],["formControlName","copies","type","number","pInputText","","id","copies","required",""],[1,"ml-2","text-red-500"],["pButton","","pRipple","","label","Cancelar","icon","pi pi-times",1,"p-button-text",3,"click"],["pButton","","pRipple","","label","Guardar","icon","pi pi-check",1,"p-button-text",3,"click"]],template:function(s,o){1&s&&(e.j41(0,"p-dialog",0),e.bIt("visibleChange",function(l){return o.isVisible=l}),e.DNE(1,Me,48,8,"ng-template",1),e.DNE(2,Oe,2,0,"ng-template",2),e.k0s(),e.nrm(3,"p-confirmDialog")),2&s&&(e.Aen(e.lJ4(6,X)),e.Y8G("visible",o.isVisible)("modal",!0),e.R7$(3),e.Aen(e.lJ4(7,X)))},dependencies:[h.bT,n.qT,n.me,n.Q0,n.BC,n.cb,n.YS,n.j4,n.JD,_._f,p.Ei,w.T,L.l,f.S],encapsulation:2})}return i})();const We=["dt"];function ze(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",9)(1,"h5",10),e.EFF(2,"B\xfasqueda por t\xedtulo de la obra o por colecci\xf3n"),e.k0s(),e.j41(3,"span",11),e.nrm(4,"i",12),e.j41(5,"input",13,14),e.bIt("input",function(o){e.eBV(t);const a=e.XpG();return e.Njj(a.applyFilterGlobal(o,"contains"))}),e.k0s()()()}}function He(i,r){1&i&&(e.j41(0,"tr")(1,"th",15),e.EFF(2,"T\xedtulo"),e.nrm(3,"p-sortIcon",16),e.k0s(),e.j41(4,"th",17),e.EFF(5," Adquisici\xf3n"),e.nrm(6,"p-sortIcon",18),e.k0s(),e.j41(7,"th",19),e.EFF(8,"A\xf1o"),e.nrm(9,"p-sortIcon",20),e.k0s(),e.j41(10,"th",21),e.EFF(11," Colecci\xf3n"),e.nrm(12,"p-sortIcon",22),e.k0s(),e.j41(13,"th",23),e.EFF(14,"Copias"),e.nrm(15,"p-sortIcon",24),e.k0s(),e.nrm(16,"th"),e.k0s())}function Qe(i,r){if(1&i){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td"),e.EFF(10),e.k0s(),e.j41(11,"td")(12,"button",25),e.bIt("click",function(){const a=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.editBook(a))}),e.k0s(),e.j41(13,"button",26),e.bIt("click",function(){const a=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.deleteBook(a))}),e.k0s()()()}if(2&i){const t=r.$implicit;e.R7$(2),e.JRh(t.title),e.R7$(2),e.JRh(t.adquisition),e.R7$(2),e.JRh(t.year),e.R7$(2),e.JRh(t.collection),e.R7$(2),e.JRh(t.copies)}}function Ze(i,r){if(1&i&&(e.j41(0,"div",27),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(1),e.SpI(" Hay un total de ",t.books?t.books.length:0," libros en la base de datos ")}}const et=function(){return["title","collection"]},tt=function(){return{"min-width":"75rem"}};let it=(()=>{class i{ngOnInit(){this.booksService.getBooks().subscribe(t=>this.books=t),this.utilitiesService.setVisibility(!1)}constructor(t,s,o,a){this.confirmationService=t,this.messageService=s,this.booksService=o,this.utilitiesService=a,this.books=[],this.submitted=!1}editBook(t){this.utilitiesService.setVisibility(!0),this.book=t}deleteBook(t){this.confirmationService.confirm({message:"\xbfEst\xe1s seguro de eliminar: "+t.title+"?",header:"Confirmar acci\xf3n",icon:"pi pi-exclamation-triangle",accept:()=>{this.booksService.deleteBook(t.id).subscribe({next:()=>{this.messageService.add({severity:"success",summary:"\xc9xito",detail:"Libro eliminado",life:3e3}),this.books=this.books.filter(s=>s.id!==t.id)},error:s=>{this.messageService.add({severity:"error",summary:"Error",detail:`${s}`,life:3e3})}})}})}updateBooks(t){this.books=t}applyFilterGlobal(t,s){this.utilitiesService.filtering(t,s,this.dt)}static#e=this.\u0275fac=function(s){return new(s||i)(e.rXU(p.td),e.rXU(p.bg),e.rXU(x),e.rXU(v))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-edit-book-page"]],viewQuery:function(s,o){if(1&s&&e.GBs(We,5),2&s){let a;e.mGM(a=e.lsd())&&(o.dt=a.first)}},decls:11,vars:11,consts:[[1,"card","surface-section","py-6","px-4"],[1,"font-medium","text-primary"],["dataKey","id","currentPageReportTemplate","Mostrando {first} a {last} de {totalRecords} entradas",3,"value","rows","paginator","globalFilterFields","showLoader","tableStyle","rowHover","showCurrentPageReport"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","summary"],[3,"book","updatedBooks"],[1,"flex","align-items-center","justify-content-between"],[1,"m-0"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Buscar...",3,"input"],["textInput",""],["pSortableColumn","title",2,"min-width","15rem"],["field","title"],["pSortableColumn","adquisition",2,"min-width","15rem"],["field","adquisition"],["pSortableColumn","year",2,"min-width","15rem"],["field","year"],["pSortableColumn","collection",2,"min-width","15rem"],["field","collection"],["pSortableColumn","copies",2,"min-width","15rem"],["field","copies"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-success","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-danger",3,"click"],[1,"flex","align-items-center","justify-content-center"]],template:function(s,o){1&s&&(e.j41(0,"div",0)(1,"p",1),e.EFF(2,"Panel para actualizar datos o eliminar elementos"),e.k0s(),e.nrm(3,"p-toast"),e.j41(4,"p-table",2,3),e.DNE(6,ze,7,0,"ng-template",4),e.DNE(7,He,17,0,"ng-template",5),e.DNE(8,Qe,14,5,"ng-template",6),e.DNE(9,Ze,2,1,"ng-template",7),e.k0s()(),e.j41(10,"dashboard-modal-dialog",8),e.bIt("updatedBooks",function(l){return o.updateBooks(l)}),e.k0s()),2&s&&(e.R7$(4),e.Y8G("value",o.books)("rows",10)("paginator",!0)("globalFilterFields",e.lJ4(9,et))("showLoader",!0)("tableStyle",e.lJ4(10,tt))("rowHover",!0)("showCurrentPageReport",!0),e.R7$(6),e.Y8G("book",o.book))},dependencies:[_._f,p.Ei,f.S,d.XI,d.Tg,d.yc,g.y8,Ke],encapsulation:2})}return i})(),J=(()=>{class i{constructor(t){this.http=t,this.BASE_URL=R.M.BASE_URL}postLoan(t){return this.http.post(`${this.BASE_URL}/loans`,t).pipe((0,u.W)(s=>(0,m.u)(s)))}getBorrowedBooks(){return this.http.get(`${this.BASE_URL}/loans/get-borrowed-books`).pipe((0,u.W)(t=>(0,m.u)(t)))}updateLoan(t){t||(0,k.$)(()=>new Error("Se necesita un ID"));const s=new Date,o=s.getFullYear(),a=s.getMonth()+1,l=s.getDate(),Zi=[{path:"/DevolutionDate",op:"replace",value:`${o}-${a.toString().padStart(2,"0")}-${l.toString().padStart(2,"0")}`},{path:"/Returned",op:"replace",value:!0}];return this.http.patch(`${this.BASE_URL}/loans/${t}`,Zi).pipe((0,u.W)(es=>(0,m.u)(es)))}deleteLoan(t){return this.http.delete(`${this.BASE_URL}/loans/${t}`).pipe((0,u.W)(s=>(0,m.u)(s)))}static#e=this.\u0275fac=function(s){return new(s||i)(e.KVO(E.Qq))};static#t=this.\u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var st=c(935);let ot=(()=>{class i{transform(t,...s){return"0001-01-01T00:00:00"===t?"S/F":new Date(t).toLocaleDateString("es-ES",{year:"numeric",month:"numeric",day:"numeric"})}static#e=this.\u0275fac=function(s){return new(s||i)};static#t=this.\u0275pipe=e.EJ8({name:"ZeroDate",type:i,pure:!0})}return i})();const nt=["dt"];function rt(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",9)(1,"h5",10),e.EFF(2,"B\xfasqueda por t\xedtulo de la obra o por colecci\xf3n"),e.k0s(),e.j41(3,"span",11),e.nrm(4,"i",12),e.j41(5,"input",13,14),e.bIt("input",function(o){e.eBV(t);const a=e.XpG();return e.Njj(a.applyFilterGlobal(o,"contains"))}),e.k0s()()()}}function at(i,r){1&i&&(e.j41(0,"tr")(1,"th",15),e.EFF(2,"ID de usuario"),e.nrm(3,"p-sortIcon",16),e.k0s(),e.j41(4,"th",17),e.EFF(5,"Autoriz\xf3"),e.nrm(6,"p-sortIcon",18),e.k0s(),e.j41(7,"th",19),e.EFF(8," Fecha y hora de pr\xe9stamos"),e.nrm(9,"p-sortIcon",20),e.k0s(),e.j41(10,"th",21),e.EFF(11," Fecha devoluci\xf3n"),e.nrm(12,"p-sortIcon",22),e.k0s(),e.j41(13,"th",23),e.EFF(14,"Estatus"),e.nrm(15,"p-sortIcon",24),e.k0s(),e.j41(16,"th"),e.EFF(17,"Acciones"),e.k0s()())}function lt(i,r){if(1&i){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.nI1(7,"date"),e.k0s(),e.j41(8,"td"),e.EFF(9),e.nI1(10,"ZeroDate"),e.k0s(),e.j41(11,"td"),e.nrm(12,"p-tag",25),e.k0s(),e.j41(13,"td")(14,"button",26),e.bIt("click",function(){const a=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.onUpdateLoan(null==a?null:a.id))}),e.k0s(),e.j41(15,"button",27),e.bIt("click",function(){const a=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.onDeleteLoan(null==a?null:a.id))}),e.k0s()()()}if(2&i){const t=r.$implicit,s=e.XpG();e.R7$(2),e.JRh(t.userId),e.R7$(2),e.JRh(t.userName),e.R7$(2),e.JRh(e.i5U(7,7,t.loanDate,"short")),e.R7$(3),e.JRh(e.bMT(10,10,t.devolutionDate)),e.R7$(3),e.Y8G("value",!0===t.returned?"Devuelto":"Sin devolver")("severity",s.getSeverity(t.returned)),e.R7$(2),e.Y8G("disabled",null==t?null:t.returned)}}function pt(i,r){if(1&i&&(e.j41(0,"div",28),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(1),e.SpI(" Hay un total de ",t.loans?t.loans.length:0," registros en la base de datos ")}}const ct=function(){return["userName"]},ut=function(){return{"min-width":"75rem"}},mt=function(){return{width:"450px"}};let dt=(()=>{class i{constructor(t,s,o,a){this.utilitiesService=t,this.loansService=s,this.messageService=o,this.confirmationService=a,this.loans=[]}ngOnInit(){this.loansService.getBorrowedBooks().subscribe(t=>this.loans=t),this.utilitiesService.setVisibility(!1)}onUpdateLoan(t){this.confirmationService.confirm({message:"\xbfEst\xe1s deguro de finalizar el pr\xe9stamo?",header:"Confirmar acci\xf3n",icon:"pi pi-check-circle",accept:()=>{this.loansService.updateLoan(t).subscribe({next:()=>{this.messageService.add({severity:"success",summary:"\xc9xito",detail:"Se actualiz\xf3 la informaci\xf3n",life:3e3}),this.loansService.getBorrowedBooks().subscribe(s=>this.loans=s)},error:s=>{this.messageService.add({severity:"error",summary:"Error",detail:`${s}`,life:3e3})}})}})}onDeleteLoan(t){this.confirmationService.confirm({message:"\xbfEst\xe1s deguro de eliminar este registro?",header:"Confirmar acci\xf3n",icon:"pi pi-exclamation-triangle",accept:()=>{this.loansService.deleteLoan(t).subscribe({next:()=>{this.messageService.add({severity:"success",summary:"\xc9xito",detail:"Se elimin\xf3 el registro",life:3e3})},error:s=>{this.messageService.add({severity:"error",summary:"Error",detail:`${s}`,life:3e3})}})}})}getSeverity(t){switch(t){case!0:return"success";case!1:return"danger"}}applyFilterGlobal(t,s){this.utilitiesService.filtering(t,s,this.dt)}static#e=this.\u0275fac=function(s){return new(s||i)(e.rXU(v),e.rXU(J),e.rXU(p.bg),e.rXU(p.td))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-loans-page"]],viewQuery:function(s,o){if(1&s&&e.GBs(nt,5),2&s){let a;e.mGM(a=e.lsd())&&(o.dt=a.first)}},decls:12,vars:16,consts:[[1,"card","surface-section","py-6","px-4"],[1,"font-medium","text-primary"],["dataKey","id","currentPageReportTemplate","Mostrando {first} a {last} de {totalRecords} entradas",3,"value","rows","paginator","globalFilterFields","showLoader","tableStyle","rowHover","showCurrentPageReport"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","summary"],[3,"rejectButtonStyleClass","acceptLabel","rejectLabel"],[1,"flex","align-items-center","justify-content-between"],[1,"m-0"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Buscar...",3,"input"],["textInput",""],["pSortableColumn","user",2,"min-width","15rem"],["field","user"],["pSortableColumn","account",2,"min-width","15rem"],["field","account"],["pSortableColumn","loanDate",2,"min-width","15rem"],["field","loanDate"],["pSortableColumn","devolutionDate",2,"min-width","15rem"],["field","devolutionDate"],["pSortableColumn","returned",2,"min-width","15rem"],["field","returned"],[3,"value","severity"],["tooltipPosition","left","pTooltip","Finalizar pr\xe9stamo","pButton","","pRipple","","icon","pi pi-check-square",1,"p-button-rounded","p-button-success","mr-2",3,"disabled","click"],["tooltipPosition","left","pTooltip","Eliminar registro","pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-danger",3,"click"],[1,"flex","align-items-center","justify-content-center"]],template:function(s,o){1&s&&(e.j41(0,"div",0)(1,"p",1),e.EFF(2,"Panel para actualizar o eliminar pr\xe9stamos:"),e.k0s(),e.nrm(3,"p-toast"),e.j41(4,"p-table",2,3),e.DNE(6,rt,7,0,"ng-template",4),e.DNE(7,at,18,0,"ng-template",5),e.DNE(8,lt,16,12,"ng-template",6),e.DNE(9,pt,2,1,"ng-template",7),e.k0s()(),e.nrm(10,"p-confirmDialog",8)(11,"p-toast")),2&s&&(e.R7$(4),e.Y8G("value",o.loans)("rows",10)("paginator",!0)("globalFilterFields",e.lJ4(13,ct))("showLoader",!0)("tableStyle",e.lJ4(14,ut))("rowHover",!0)("showCurrentPageReport",!0),e.R7$(6),e.Aen(e.lJ4(15,mt)),e.Y8G("rejectButtonStyleClass","p-button-outlined")("acceptLabel","Aceptar")("rejectLabel","Cancelar"))},dependencies:[_._f,p.Ei,w.T,f.S,D.m,d.XI,d.Tg,d.yc,st.v,g.y8,h.vh,ot],encapsulation:2})}return i})(),j=(()=>{class i{constructor(t){this.http=t,this.BASE_URL=R.M.BASE_URL}postUser(t){return this.http.post(`${this.BASE_URL}/users`,t).pipe((0,u.W)(s=>(0,m.u)(s)))}getStudents(){return this.http.get(`${this.BASE_URL}/users/students`).pipe((0,u.W)(t=>(0,m.u)(t)))}getProfessors(){return this.http.get(`${this.BASE_URL}/users/professors`).pipe((0,u.W)(t=>(0,m.u)(t)))}getAdministratives(){return this.http.get(`${this.BASE_URL}/users/administratives`).pipe((0,u.W)(t=>(0,m.u)(t)))}getAllUsers(){return this.http.get(`${this.BASE_URL}/users/users`).pipe((0,u.W)(t=>(0,m.u)(t)))}static#e=this.\u0275fac=function(s){return new(s||i)(e.KVO(E.Qq))};static#t=this.\u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var ht=c(6296),N=c(5901);const U=function(){return{width:"100%"}};let gt=(()=>{class i{constructor(t,s,o,a,l){this.fb=t,this.booksService=s,this.usersService=o,this.loansService=a,this.messageService=l,this.isStudent=null,this.isEmployee=null,this.loanForm=this.fb.group({type:[null,[n.k0.required]],selectedUser:[{value:null,disabled:!0},[n.k0.required]],selectedBooks:[{value:null,disabled:!0},[n.k0.required,n.k0.minLength(1)]]}),this.user=[],this.books=[],this.loading=!1,this.userTypes=[{name:"Estudiante",value:1},{name:"Maestro",value:2}]}ngOnInit(){this.booksService.getBooks().subscribe(t=>this.books=t)}selectedOption(t){this.lastOptionSelected=t,this.isStudent=1===this.lastOptionSelected?.option?.value,this.isEmployee=2===this.lastOptionSelected?.option?.value,this.isStudent?this.usersService.getStudents().subscribe(s=>{this.user=s,this.loanForm.get("selectedUser")?.enable()}):this.usersService.getProfessors().subscribe(s=>{this.user=s,this.loanForm.get("selectedUser")?.enable()}),this.loanForm.updateValueAndValidity()}selectedBooks(t){console.log(t.value.length),t?.value.length>0&&this.loanForm.get("selectedBooks")?.enable(),this.loanForm.updateValueAndValidity()}onNewLoan(){const{selectedUser:t,selectedBooks:s}=this.loanForm.value,l={userId:t[0].id,borrowedBooks:s.map(I=>I.adquisition)};(null==t||null==s)&&(0,k.$)(()=>"Los valores no pueden ser nulos"),this.loading=!0,this.loansService.postLoan(l).subscribe({next:()=>{this.messageService.add({summary:"\xc9xito",severity:"success",detail:"Pr\xe9stamo registrado"}),this.loading=!1},error:I=>{this.messageService.add({summary:"Error",severity:"error",detail:`${I}`}),this.loading=!1}})}static#e=this.\u0275fac=function(s){return new(s||i)(e.rXU(n.ok),e.rXU(x),e.rXU(j),e.rXU(J),e.rXU(p.bg))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-new-loan-page"]],decls:18,vars:19,consts:[[1,"flex","flex-column","align-items-center","surface-section","py-6","px-4",3,"formGroup","ngSubmit"],[1,"text-primary","mt-4","ml-2"],[1,"mt-5"],["formControlName","type","optionLabel","name","optionValue","value",3,"options","multiple","onOptionClick"],[1,"w-full","sm:w-6"],[1,"p-float-label","mt-5"],["inputId","float-label","formControlName","selectedUser","optionLabel","name",3,"options","virtualScroll","virtualScrollItemSize","onChange"],["for","float-label"],["display","chip","inputId","float-label","formControlName","selectedBooks","optionLabel","title",3,"selectionLimit","options","virtualScroll","virtualScrollItemSize"],[1,"flex","w-full","flex-column","sm:w-6"],[3,"isLoading","label","invalid"],["position","top-center"]],template:function(s,o){1&s&&(e.j41(0,"form",0),e.bIt("ngSubmit",function(){return o.onNewLoan()}),e.j41(1,"p",1),e.EFF(2,"Registra un pr\xe9stamo de libro por tipo de usuario. M\xe1ximo tres ejemplares."),e.k0s(),e.j41(3,"div",2)(4,"p-selectButton",3),e.bIt("onOptionClick",function(l){return o.selectedOption(l)}),e.k0s()(),e.j41(5,"div",4)(6,"div",5)(7,"p-multiSelect",6),e.bIt("onChange",function(l){return o.selectedBooks(l)}),e.k0s(),e.j41(8,"label",7),e.EFF(9,"Seleccione al usuario"),e.k0s()()(),e.j41(10,"div",4)(11,"div",5),e.nrm(12,"p-multiSelect",8),e.j41(13,"label",7),e.EFF(14,"Seleccionar los libros"),e.k0s()()(),e.j41(15,"div",9),e.nrm(16,"dashboard-add-button",10),e.k0s(),e.nrm(17,"p-toast",11),e.k0s()),2&s&&(e.Y8G("formGroup",o.loanForm),e.R7$(4),e.Y8G("options",o.userTypes)("multiple",!1),e.R7$(3),e.Aen(e.lJ4(17,U)),e.Y8G("options",o.user)("virtualScroll",!0)("virtualScrollItemSize",20),e.R7$(5),e.Aen(e.lJ4(18,U)),e.Y8G("selectionLimit",3)("options",o.books)("virtualScroll",!0)("virtualScrollItemSize",40),e.R7$(4),e.Y8G("isLoading",o.loading)("label","Crear pr\xe9stamo")("invalid",o.loanForm.invalid))},dependencies:[n.qT,n.BC,n.cb,n.j4,n.JD,ht.KF,N.JC,g.y8,y],encapsulation:2})}return i})(),P=(()=>{class i{constructor(t){this.http=t,this.baseUrl=R.M.BASE_URL}getPublications(){return this.http.get(`${this.baseUrl}/publications`)}postPublication(t){return null===t?(0,k.$)(()=>new Error("Valores incorrectos")):this.http.post(`${this.baseUrl}/publications`,t).pipe((0,u.W)(s=>(0,m.u)(s)))}updatePublication(t,s){return void 0===t||null===s?(0,k.$)(()=>new Error("Valores incorrectos")):this.http.put(`${this.baseUrl}/Publications/${t}`,s).pipe((0,u.W)(o=>(0,m.u)(o)))}deletePublication(t){return null===t?(0,k.$)(()=>new Error(`${t} no es un Id v\xe1lido`)):this.http.delete(`${this.baseUrl}/publications/${t}`).pipe((0,u.W)(s=>(0,m.u)(s)))}static#e=this.\u0275fac=function(s){return new(s||i)(e.KVO(E.Qq))};static#t=this.\u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function ft(i,r){if(1&i&&(e.j41(0,"small",31),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(1),e.JRh(t.displayError("type"))}}function _t(i,r){if(1&i&&(e.j41(0,"small",31),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(1),e.JRh(t.displayError("title"))}}function Ft(i,r){if(1&i&&(e.j41(0,"small",31),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(1),e.JRh(t.displayError("author"))}}function bt(i,r){if(1&i&&(e.j41(0,"small",31),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(1),e.JRh(t.displayError("authorTwo"))}}function kt(i,r){if(1&i&&(e.j41(0,"small",31),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(1),e.JRh(t.displayError("authorThree"))}}function vt(i,r){if(1&i&&(e.j41(0,"small",31),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(1),e.JRh(t.displayError("authorFour"))}}function Et(i,r){if(1&i&&(e.j41(0,"small",31),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(1),e.JRh(t.displayError("publisher"))}}function yt(i,r){if(1&i&&(e.j41(0,"small",31),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(1),e.JRh(t.displayError("isbn"))}}function Rt(i,r){if(1&i&&(e.j41(0,"small",31),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(1),e.JRh(t.displayError("issn"))}}function jt(i,r){if(1&i&&(e.j41(0,"small",31),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(1),e.JRh(t.displayError("year"))}}function xt(i,r){if(1&i&&(e.j41(0,"small",31),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(1),e.JRh(t.displayError("vol"))}}let Tt=(()=>{class i{constructor(t,s,o){this.fb=t,this.messageService=s,this.publicationService=o,this.loading=!1,this.publicationTypes=[{name:"Art\xedculo",value:1},{name:"Publicaci\xf3n",value:2},{name:"Revista",value:3}],this.form=this.fb.group({type:[null,[n.k0.required]],title:["",[n.k0.required,n.k0.maxLength(150)]],author:["",[n.k0.required,n.k0.maxLength(120),n.k0.minLength(5)]],authorTwo:["",[n.k0.maxLength(120),n.k0.minLength(5)]],authorThree:["",[n.k0.maxLength(120),n.k0.minLength(5)]],authorFour:["",[n.k0.maxLength(120),n.k0.minLength(5)]],publisher:["",[n.k0.required,n.k0.maxLength(50)]],isbn:["",[n.k0.maxLength(16),n.k0.minLength(16)]],issn:["",[n.k0.maxLength(9),n.k0.minLength(9)]],year:[null,[n.k0.required,n.k0.maxLength(4),n.k0.minLength(4)]],vol:["",[n.k0.required,n.k0.maxLength(10)]]})}onSave(){this.form.invalid||"number"!=typeof this.form.value.type?this.form.markAllAsTouched():(this.loading=!0,this.publicationService.postPublication(this.form.value).subscribe({next:()=>{this.messageService.add({severity:"success",summary:"\xc9xito",detail:"Publicaci\xf3n agregada correctamente"}),this.loading=!1,this.form.reset()},error:t=>{this.messageService.add({severity:"error",summary:"Ups",detail:`${t}`}),this.loading=!1}}))}isValidField(t){return F(t,this.form)}displayError(t){return b(t,this.form)}static#e=this.\u0275fac=function(s){return new(s||i)(e.rXU(n.ok),e.rXU(p.bg),e.rXU(P))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-add-publication-page"]],decls:75,vars:16,consts:[[1,"card","surface-section","p-6"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"font-medium","text-center","sm:text-left","text-primary"],["formControlName","type","optionLabel","name","optionValue","value",3,"options","multiple"],["class","ml-2 text-red-500",4,"ngIf"],[1,"formgrid","grid"],[1,"field","col-12","sm:col-6"],[1,"p-float-label","mt-5"],["required","","formControlName","title","type","text","pInputText","","id","title",1,"w-full"],["htmlFor","title"],["required","","formControlName","author","type","text","pInputText","","id","author",1,"w-full"],["htmlFor","author"],["formControlName","authorTwo","type","text","pInputText","","id","authorTwo",1,"w-full"],["htmlFor","authorTwo"],["formControlName","authorThree","type","text","pInputText","","id","authorThree",1,"w-full"],["htmlFor","authorThree"],["formControlName","authorFour","type","text","pInputText","","id","authorFour",1,"w-full"],["htmlFor","authorFour"],["formControlName","publisher","type","text","pInputText","","id","publisher",1,"w-full"],["htmlFor","publisher"],["formControlName","isbn","type","text","pInputText","","id","isbn",1,"w-full"],["htmlFor","isbn"],["formControlName","issn","type","text","pInputText","","id","issn",1,"w-full"],["htmlFor","issn"],["required","","formControlName","year","type","year","pInputText","","id","year",1,"w-full"],["htmlFor","year"],["required","","formControlName","vol","type","vol","pInputText","","id","vol",1,"w-full"],["htmlFor","vol"],[1,"flex","w-full","flex-column","sm:w-6"],[3,"isLoading","invalid"],["position","top-center"],[1,"ml-2","text-red-500"]],template:function(s,o){1&s&&(e.j41(0,"div",0)(1,"form",1),e.bIt("ngSubmit",function(){return o.onSave()}),e.j41(2,"p",2),e.EFF(3," Agrega una nueva publicaci\xf3n a la colecci\xf3n, seleccionando por tipo "),e.k0s(),e.j41(4,"div"),e.nrm(5,"p-selectButton",3),e.DNE(6,ft,2,1,"small",4),e.k0s(),e.j41(7,"div",5)(8,"div",6)(9,"div",7),e.nrm(10,"input",8),e.j41(11,"label",9),e.EFF(12,"T\xedtulo de la publicaci\xf3n"),e.k0s()(),e.DNE(13,_t,2,1,"small",4),e.k0s(),e.j41(14,"div",6)(15,"div",7),e.nrm(16,"input",10),e.j41(17,"label",11),e.EFF(18,"Nombre del primer autor"),e.k0s()(),e.DNE(19,Ft,2,1,"small",4),e.k0s()(),e.j41(20,"div",5)(21,"div",6)(22,"div",7),e.nrm(23,"input",12),e.j41(24,"label",13),e.EFF(25,"Nombre del segundo autor"),e.k0s()(),e.DNE(26,bt,2,1,"small",4),e.k0s(),e.j41(27,"div",6)(28,"div",7),e.nrm(29,"input",14),e.j41(30,"label",15),e.EFF(31,"Nombre del tercer autor"),e.k0s()(),e.DNE(32,kt,2,1,"small",4),e.k0s()(),e.j41(33,"div",5)(34,"div",6)(35,"div",7),e.nrm(36,"input",16),e.j41(37,"label",17),e.EFF(38,"Nombre del cuarto autor"),e.k0s()(),e.DNE(39,vt,2,1,"small",4),e.k0s(),e.j41(40,"div",6)(41,"div",7),e.nrm(42,"input",18),e.j41(43,"label",19),e.EFF(44,"Editorial"),e.k0s()(),e.DNE(45,Et,2,1,"small",4),e.k0s()(),e.j41(46,"div",5)(47,"div",6)(48,"div",7),e.nrm(49,"input",20),e.j41(50,"label",21),e.EFF(51,"ISBN"),e.k0s()(),e.DNE(52,yt,2,1,"small",4),e.k0s(),e.j41(53,"div",6)(54,"div",7),e.nrm(55,"input",22),e.j41(56,"label",23),e.EFF(57,"ISSN"),e.k0s()(),e.DNE(58,Rt,2,1,"small",4),e.k0s()(),e.j41(59,"div",5)(60,"div",6)(61,"div",7),e.nrm(62,"input",24),e.j41(63,"label",25),e.EFF(64,"A\xf1o"),e.k0s()(),e.DNE(65,jt,2,1,"small",4),e.k0s(),e.j41(66,"div",6)(67,"div",7),e.nrm(68,"input",26),e.j41(69,"label",27),e.EFF(70,"Vol\xfamen"),e.k0s()(),e.DNE(71,xt,2,1,"small",4),e.k0s()(),e.j41(72,"div",28),e.nrm(73,"dashboard-add-button",29),e.k0s(),e.nrm(74,"p-toast",30),e.k0s()()),2&s&&(e.R7$(1),e.Y8G("formGroup",o.form),e.R7$(4),e.Y8G("options",o.publicationTypes)("multiple",!1),e.R7$(1),e.Y8G("ngIf",o.isValidField("type")),e.R7$(7),e.Y8G("ngIf",o.isValidField("title")),e.R7$(6),e.Y8G("ngIf",o.isValidField("author")),e.R7$(7),e.Y8G("ngIf",o.isValidField("authorTwo")),e.R7$(6),e.Y8G("ngIf",o.isValidField("authorThree")),e.R7$(7),e.Y8G("ngIf",o.isValidField("authorFour")),e.R7$(6),e.Y8G("ngIf",o.isValidField("publisher")),e.R7$(7),e.Y8G("ngIf",o.isValidField("isbn")),e.R7$(6),e.Y8G("ngIf",o.isValidField("issn")),e.R7$(7),e.Y8G("ngIf",o.isValidField("year")),e.R7$(6),e.Y8G("ngIf",o.isValidField("vol")),e.R7$(2),e.Y8G("isLoading",o.loading)("invalid",o.form.invalid))},dependencies:[h.bT,n.qT,n.me,n.BC,n.cb,n.YS,n.j4,n.JD,f.S,N.JC,g.y8,y],encapsulation:2})}return i})();function Ct(i,r){if(1&i&&(e.j41(0,"small",28),e.EFF(1),e.k0s()),2&i){const t=e.XpG(2);e.R7$(1),e.JRh(t.displayError("type"))}}function St(i,r){if(1&i&&(e.j41(0,"small",28),e.EFF(1),e.k0s()),2&i){const t=e.XpG(2);e.R7$(1),e.JRh(t.displayError("title"))}}function $t(i,r){if(1&i&&(e.j41(0,"small",28),e.EFF(1),e.k0s()),2&i){const t=e.XpG(2);e.R7$(1),e.SpI("",t.displayError("author")," ")}}function wt(i,r){if(1&i&&(e.j41(0,"small",28),e.EFF(1),e.k0s()),2&i){const t=e.XpG(2);e.R7$(1),e.SpI("",t.displayError("publisher")," ")}}function Nt(i,r){if(1&i&&(e.j41(0,"small",28),e.EFF(1),e.k0s()),2&i){const t=e.XpG(2);e.R7$(1),e.JRh(t.displayError("year"))}}function Pt(i,r){if(1&i&&(e.j41(0,"small",28),e.EFF(1),e.k0s()),2&i){const t=e.XpG(2);e.R7$(1),e.JRh(t.displayError("isbn"))}}function It(i,r){if(1&i&&(e.j41(0,"small",28),e.EFF(1),e.k0s()),2&i){const t=e.XpG(2);e.R7$(1),e.JRh(t.displayError("issn"))}}function Gt(i,r){if(1&i&&(e.j41(0,"small",28),e.EFF(1),e.k0s()),2&i){const t=e.XpG(2);e.R7$(1),e.JRh(t.displayError("vol"))}}function Lt(i,r){if(1&i&&(e.j41(0,"form",3)(1,"div",4)(2,"label",5),e.EFF(3,"Tipo de publicaci\xf3n actual"),e.k0s(),e.nrm(4,"p-selectButton",6),e.DNE(5,Ct,2,1,"small",7),e.k0s(),e.j41(6,"div",4)(7,"label",8),e.EFF(8,"T\xedtulo"),e.k0s(),e.nrm(9,"input",9),e.DNE(10,St,2,1,"small",7),e.k0s(),e.j41(11,"div",4)(12,"label",10),e.EFF(13,"Autor"),e.k0s(),e.nrm(14,"input",11),e.DNE(15,$t,2,1,"small",7),e.k0s(),e.j41(16,"div",4)(17,"label",12),e.EFF(18,"Autor dos"),e.k0s(),e.nrm(19,"input",13),e.k0s(),e.j41(20,"div",4)(21,"label",14),e.EFF(22,"Autor tres"),e.k0s(),e.nrm(23,"input",15),e.k0s(),e.j41(24,"div",4)(25,"label",16),e.EFF(26,"Autor cuatro"),e.k0s(),e.nrm(27,"input",17),e.k0s(),e.j41(28,"div",4)(29,"label",18),e.EFF(30,"Editorial"),e.k0s(),e.nrm(31,"input",19),e.DNE(32,wt,2,1,"small",7),e.k0s(),e.j41(33,"div",4)(34,"label",20),e.EFF(35,"A\xf1o"),e.k0s(),e.nrm(36,"input",21),e.DNE(37,Nt,2,1,"small",7),e.k0s(),e.j41(38,"div",4)(39,"label",22),e.EFF(40,"ISBN"),e.k0s(),e.nrm(41,"input",23),e.DNE(42,Pt,2,1,"small",7),e.k0s(),e.j41(43,"div",4)(44,"label",24),e.EFF(45,"ISSN"),e.k0s(),e.nrm(46,"input",25),e.DNE(47,It,2,1,"small",7),e.k0s(),e.j41(48,"div",4)(49,"label",26),e.EFF(50,"Vol\xfamen"),e.k0s(),e.nrm(51,"input",27),e.DNE(52,Gt,2,1,"small",7),e.k0s()()),2&i){const t=e.XpG();e.Y8G("formGroup",t.form),e.R7$(4),e.Y8G("options",t.publicationTypes)("multiple",!1),e.R7$(1),e.Y8G("ngIf",t.isValidField("type")),e.R7$(5),e.Y8G("ngIf",t.isValidField("title")),e.R7$(5),e.Y8G("ngIf",t.isValidField("author")),e.R7$(17),e.Y8G("ngIf",t.isValidField("publisher")),e.R7$(5),e.Y8G("ngIf",t.isValidField("year")),e.R7$(5),e.Y8G("ngIf",t.isValidField("isbn")),e.R7$(5),e.Y8G("ngIf",t.isValidField("issn")),e.R7$(5),e.Y8G("ngIf",t.isValidField("vol"))}}function At(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",29),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.hideDialog())}),e.k0s(),e.j41(1,"button",30),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.save())}),e.k0s()}}const Y=function(){return{width:"450px"}};let Bt=(()=>{class i{ngOnInit(){this.utilitiesService.isVisible$.subscribe(t=>{this.isVisible=t})}ngOnChanges(t){t.publication&&this.patchFormValues()}constructor(t,s,o,a){this.fb=t,this.messageService=s,this.publicationService=o,this.utilitiesService=a,this.updatedList=new e.bkB,this.isVisible=!1,this.publicationTypes=[{name:"Art\xedculo",value:1},{name:"Publicaci\xf3n",value:2},{name:"Revista",value:3}],this.form=this.fb.group({type:[null,[n.k0.required]],title:["",[n.k0.required,n.k0.maxLength(150)]],author:["",[n.k0.required,n.k0.maxLength(120),n.k0.minLength(5)]],authorTwo:["",[n.k0.maxLength(120),n.k0.minLength(5)]],authorThree:["",[n.k0.maxLength(120),n.k0.minLength(5)]],authorFour:["",[n.k0.maxLength(120),n.k0.minLength(5)]],publisher:["",[n.k0.required,n.k0.maxLength(50)]],isbn:["",[n.k0.maxLength(16),n.k0.minLength(16)]],issn:["",[n.k0.maxLength(9),n.k0.minLength(9)]],year:[null,[n.k0.required,n.k0.maxLength(4),n.k0.minLength(4)]],vol:["",[n.k0.required,n.k0.maxLength(10)]]})}hideDialog(){this.isVisible=!1}save(){this.form.invalid?this.form.markAllAsTouched():(this.publicationService.updatePublication(this.publication.id,this.form.value).subscribe({next:()=>{this.messageService.add({severity:"success",summary:"\xc9xito",detail:"Se actualiz\xf3 el registro"}),this.publicationService.getPublications().subscribe(t=>this.updatedList.emit(t))},error:t=>{this.messageService.add({severity:"error",summary:"Ups!",detail:`${t}`})}}),this.isVisible=!1)}isValidField(t){return F(t,this.form)}displayError(t){return b(t,this.form)}patchFormValues(){this.publication&&this.form.patchValue(this.publication)}static#e=this.\u0275fac=function(s){return new(s||i)(e.rXU(n.ok),e.rXU(p.bg),e.rXU(P),e.rXU(v))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["dashboard-modal-publication"]],inputs:{publication:"publication"},outputs:{updatedList:"updatedList"},features:[e.OA$],decls:4,vars:8,consts:[["header","Actualizar datos de publicaci\xf3n","styleClass","p-fluid",3,"visible","modal","visibleChange"],["pTemplate","content"],["pTemplate","footer"],[3,"formGroup"],[1,"field"],["for","type"],["formControlName","type","optionLabel","name","optionValue","value",3,"options","multiple"],["class","ml-2 text-red-500",4,"ngIf"],["for","title"],["formControlName","title","type","text","pInputText","","id","title","required",""],["for","author"],["formControlName","author","type","text","pInputText","","id","author","required",""],["for","authorTwo"],["formControlName","authorTwo","type","text","pInputText","","id","authorTwo"],["for","authorThree"],["formControlName","authorThree","type","authorThree","pInputText","","id","authorThree"],["for","authorFour"],["formControlName","authorFour","type","authorFour","pInputText","","id","authorFour"],["for","publisher"],["formControlName","publisher","type","text","pInputText","","id","publisher","required",""],["for","year"],["formControlName","year","type","number","pInputText","","id","year","required",""],["for","isbn"],["formControlName","isbn","type","text","pInputText","","id","isbn","required",""],["for","issn"],["formControlName","issn","type","text","pInputText","","id","issn","required",""],["for","vol"],["formControlName","vol","type","text","pInputText","","id","vol","required",""],[1,"ml-2","text-red-500"],["pButton","","pRipple","","label","Cancelar","icon","pi pi-times",1,"p-button-text",3,"click"],["pButton","","pRipple","","label","Guardar","icon","pi pi-check",1,"p-button-text",3,"click"]],template:function(s,o){1&s&&(e.j41(0,"p-dialog",0),e.bIt("visibleChange",function(l){return o.isVisible=l}),e.DNE(1,Lt,53,11,"ng-template",1),e.DNE(2,At,2,0,"ng-template",2),e.k0s(),e.nrm(3,"p-confirmDialog")),2&s&&(e.Aen(e.lJ4(6,Y)),e.Y8G("visible",o.isVisible)("modal",!0),e.R7$(3),e.Aen(e.lJ4(7,Y)))},dependencies:[h.bT,n.qT,n.me,n.Q0,n.BC,n.cb,n.YS,n.j4,n.JD,_._f,p.Ei,w.T,L.l,f.S,N.JC],encapsulation:2})}return i})();const Dt=["dt"];function Vt(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",9)(1,"h5",10),e.EFF(2,"B\xfasqueda por t\xedtulo de la obra o por colecci\xf3n"),e.k0s(),e.j41(3,"span",11),e.nrm(4,"i",12),e.j41(5,"input",13,14),e.bIt("input",function(o){e.eBV(t);const a=e.XpG();return e.Njj(a.applyFilterGlobal(o,"contains"))}),e.k0s()()()}}function Xt(i,r){1&i&&(e.j41(0,"tr")(1,"th",15),e.EFF(2,"T\xedtulo"),e.nrm(3,"p-sortIcon",16),e.k0s(),e.j41(4,"th",17),e.EFF(5," Autor"),e.nrm(6,"p-sortIcon",18),e.k0s(),e.j41(7,"th",19),e.EFF(8,"ISBN"),e.nrm(9,"p-sortIcon",20),e.k0s(),e.j41(10,"th",21),e.EFF(11,"ISSN"),e.nrm(12,"p-sortIcon",22),e.k0s(),e.j41(13,"th",23),e.EFF(14,"A\xf1o"),e.nrm(15,"p-sortIcon",24),e.k0s(),e.nrm(16,"th"),e.k0s())}function Jt(i,r){if(1&i){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td"),e.EFF(10),e.k0s(),e.j41(11,"td")(12,"button",25),e.bIt("click",function(){const a=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.edit(a))}),e.k0s(),e.j41(13,"button",26),e.bIt("click",function(){const a=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.delete(a))}),e.k0s()()()}if(2&i){const t=r.$implicit;e.R7$(2),e.JRh(t.title),e.R7$(2),e.JRh(t.author),e.R7$(2),e.JRh(t.isbn),e.R7$(2),e.JRh(t.issn),e.R7$(2),e.JRh(t.year)}}function Ut(i,r){if(1&i&&(e.j41(0,"div",27),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(1),e.SpI(" Hay un total de ",t.publicationList?t.publicationList.length:0," publicaciones registradas ")}}const Yt=function(){return["title","collection"]},qt=function(){return{"min-width":"75rem"}};let Mt=(()=>{class i{ngOnInit(){this.publicationService.getPublications().subscribe(t=>this.publicationList=t),this.utilitiesService.setVisibility(!1)}constructor(t,s,o,a){this.confirmationService=t,this.messageService=s,this.publicationService=o,this.utilitiesService=a,this.publicationList=[]}edit(t){this.utilitiesService.setVisibility(!0),this.publication=t}delete(t){this.confirmationService.confirm({message:"\xbfEst\xe1s seguro de eliminar: "+t.title+"?",header:"Confirmar acci\xf3n",icon:"pi pi-exclamation-triangle",accept:()=>{this.publicationService.deletePublication(t.id).subscribe({next:()=>{this.messageService.add({severity:"success",summary:"\xc9xito",detail:"Publicaci\xf3n eliminada",life:3e3}),this.publicationList=this.publicationList.filter(s=>s.id!==t.id)},error:s=>{this.messageService.add({severity:"error",summary:"Error",detail:`${s}`,life:3e3})}})}})}updatePublication(t){this.publicationList=t}applyFilterGlobal(t,s){this.utilitiesService.filtering(t,s,this.dt)}static#e=this.\u0275fac=function(s){return new(s||i)(e.rXU(p.td),e.rXU(p.bg),e.rXU(P),e.rXU(v))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["dashboard-edit-publication-page"]],viewQuery:function(s,o){if(1&s&&e.GBs(Dt,5),2&s){let a;e.mGM(a=e.lsd())&&(o.dt=a.first)}},decls:11,vars:11,consts:[[1,"card","surface-section","py-6","px-4"],[1,"font-medium","text-primary"],["dataKey","id","currentPageReportTemplate","Mostrando {first} a {last} de {totalRecords} entradas",3,"value","rows","paginator","globalFilterFields","showLoader","tableStyle","rowHover","showCurrentPageReport"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","summary"],[3,"publication","updatedList"],[1,"flex","align-items-center","justify-content-between"],[1,"m-0"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Buscar...",3,"input"],["textInput",""],["pSortableColumn","title",2,"min-width","15rem"],["field","title"],["pSortableColumn","adquisition",2,"min-width","15rem"],["field","adquisition"],["pSortableColumn","year",2,"min-width","15rem"],["field","year"],["pSortableColumn","collection",2,"min-width","15rem"],["field","collection"],["pSortableColumn","copies",2,"min-width","15rem"],["field","copies"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-success","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-danger",3,"click"],[1,"flex","align-items-center","justify-content-center"]],template:function(s,o){1&s&&(e.j41(0,"div",0)(1,"p",1),e.EFF(2,"Panel para actualizar datos o eliminar elementos"),e.k0s(),e.nrm(3,"p-toast"),e.j41(4,"p-table",2,3),e.DNE(6,Vt,7,0,"ng-template",4),e.DNE(7,Xt,17,0,"ng-template",5),e.DNE(8,Jt,14,5,"ng-template",6),e.DNE(9,Ut,2,1,"ng-template",7),e.k0s()(),e.j41(10,"dashboard-modal-publication",8),e.bIt("updatedList",function(l){return o.updatePublication(l)}),e.k0s()),2&s&&(e.R7$(4),e.Y8G("value",o.publicationList)("rows",10)("paginator",!0)("globalFilterFields",e.lJ4(9,Yt))("showLoader",!0)("tableStyle",e.lJ4(10,qt))("rowHover",!0)("showCurrentPageReport",!0),e.R7$(6),e.Y8G("publication",o.publication))},dependencies:[_._f,p.Ei,f.S,d.XI,d.Tg,d.yc,g.y8,Bt],encapsulation:2})}return i})();function Ot(i,r){1&i&&(e.j41(0,"tr")(1,"th",5),e.EFF(2,"T\xedtulo"),e.k0s(),e.j41(3,"th",5),e.EFF(4,"Autor principal"),e.k0s(),e.j41(5,"th",5),e.EFF(6,"Editorial"),e.k0s(),e.j41(7,"th",5),e.EFF(8,"A\xf1o"),e.k0s(),e.j41(9,"th",5),e.EFF(10,"ISBN"),e.k0s(),e.j41(11,"th",5),e.EFF(12,"ISSN"),e.k0s(),e.j41(13,"th",5),e.EFF(14,"Vol\xfamen"),e.k0s()())}function Kt(i,r){if(1&i&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td"),e.EFF(10),e.k0s(),e.j41(11,"td"),e.EFF(12),e.k0s(),e.j41(13,"td"),e.EFF(14),e.k0s()()),2&i){const t=r.$implicit;e.R7$(2),e.JRh(t.title),e.R7$(2),e.JRh(t.author),e.R7$(2),e.JRh(t.publisher),e.R7$(2),e.JRh(t.year),e.R7$(2),e.JRh(t.isbn),e.R7$(2),e.JRh(t.issn),e.R7$(2),e.JRh(t.vol)}}const Wt=function(){return{"min-width":"50rem"}},zt=function(){return[10,20]};let Ht=(()=>{class i{ngOnInit(){this.getPublications()}constructor(t){this.publicationService=t,this.publications=[]}getPublications(){this.publicationService.getPublications().subscribe(t=>this.publications=t)}static#e=this.\u0275fac=function(s){return new(s||i)(e.rXU(P))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-publications-page"]],decls:6,vars:8,consts:[[1,"card","surface-section","py-6","px-4"],[1,"font-medium","text-primary"],["currentPageReportTemplate","Mostrando {first} a {last} de {totalRecords} entradas","paginatorLocale","es-Es",3,"value","paginator","rows","showCurrentPageReport","tableStyle","rowsPerPageOptions"],["pTemplate","header"],["pTemplate","body"],[2,"width","10%"]],template:function(s,o){1&s&&(e.j41(0,"div",0)(1,"p",1),e.EFF(2,"Inventario de publicaciones dadas de alta"),e.k0s(),e.j41(3,"p-table",2),e.DNE(4,Ot,15,0,"ng-template",3),e.DNE(5,Kt,15,7,"ng-template",4),e.k0s()()),2&s&&(e.R7$(3),e.Y8G("value",o.publications)("paginator",!0)("rows",5)("showCurrentPageReport",!0)("tableStyle",e.lJ4(6,Wt))("rowsPerPageOptions",e.lJ4(7,zt)))},dependencies:[p.Ei,d.XI],encapsulation:2})}return i})();function Qt(i,r){if(1&i&&(e.j41(0,"small",19),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(1),e.JRh(t.displayError("type"))}}function Zt(i,r){if(1&i&&(e.j41(0,"small",19),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(1),e.JRh(t.displayError("name"))}}function ei(i,r){if(1&i&&(e.j41(0,"small",19),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(1),e.JRh(t.displayError("secondName"))}}function ti(i,r){if(1&i&&(e.j41(0,"small",19),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(1),e.JRh(t.displayError("lastName"))}}function ii(i,r){if(1&i&&(e.j41(0,"small",19),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(1),e.JRh(t.displayError("motherName"))}}function si(i,r){if(1&i&&(e.j41(0,"small",19),e.EFF(1),e.k0s()),2&i){const t=e.XpG(2);e.R7$(1),e.JRh(t.displayError("enrollmentNum"))}}function oi(i,r){if(1&i&&(e.j41(0,"div",2)(1,"div",7),e.nrm(2,"input",20),e.j41(3,"label",21),e.EFF(4,"Matr\xedcula"),e.k0s()(),e.DNE(5,si,2,1,"small",5),e.k0s()),2&i){const t=e.XpG();e.R7$(5),e.Y8G("ngIf",t.isValidField("enrollmentNum"))}}function ni(i,r){if(1&i&&(e.j41(0,"small",19),e.EFF(1),e.k0s()),2&i){const t=e.XpG(2);e.R7$(1),e.JRh(t.displayError("employeeKey"))}}function ri(i,r){if(1&i&&(e.j41(0,"div",2)(1,"div",7),e.nrm(2,"input",22),e.j41(3,"label",23),e.EFF(4,"N\xfamero de empleado"),e.k0s()(),e.DNE(5,ni,2,1,"small",5),e.k0s()),2&i){const t=e.XpG();e.R7$(5),e.Y8G("ngIf",t.isValidField("employeeKey"))}}function ai(i,r){if(1&i&&(e.j41(0,"small",19),e.EFF(1),e.k0s()),2&i){const t=e.XpG(2);e.R7$(1),e.JRh(t.displayError("address"))}}function li(i,r){if(1&i&&(e.j41(0,"div",2)(1,"div",7),e.nrm(2,"input",24),e.j41(3,"label",25),e.EFF(4,"Direcci\xf3n"),e.k0s()(),e.DNE(5,ai,2,1,"small",5),e.k0s()),2&i){const t=e.XpG();e.R7$(5),e.Y8G("ngIf",t.isValidField("address"))}}let pi=(()=>{class i{constructor(t,s,o){this.fb=t,this.usersService=s,this.messageService=o,this.registerForm=this.fb.group({type:[null,n.k0.required],name:["",[n.k0.required,n.k0.maxLength(40),n.k0.minLength(3)]],secondName:["",[n.k0.maxLength(60)]],lastName:["",[n.k0.required,n.k0.maxLength(60),n.k0.minLength(3)]],motherName:["",[n.k0.required,n.k0.maxLength(60),n.k0.minLength(3)]],enrollmentNum:[null,[n.k0.maxLength(8)]],employeeKey:[null,[n.k0.maxLength(10)]],address:["",[n.k0.maxLength(120)]]}),this.loading=!1,this.userTypes=[{name:"Estudiante",value:1},{name:"Maestro",value:2},{name:"Administrativo",value:3}]}selectedOption(t){this.lastOptionSelected=t,this.isStudent=1===this.lastOptionSelected?.option?.value,this.isEmployee=2===this.lastOptionSelected?.option?.value||3===this.lastOptionSelected?.option?.value,this.isStudent&&this.registerForm.get("enrollmentNum")?.setValidators([n.k0.required,n.k0.maxLength(8),n.k0.minLength(8)]),this.isEmployee&&this.registerForm.get("employeeKey")?.setValidators([n.k0.required,n.k0.maxLength(10),n.k0.minLength(8)]),this.registerForm.updateValueAndValidity()}onSave(){this.registerForm.invalid?this.registerForm.markAllAsTouched():(this.loading=!0,this.usersService.postUser(this.registerForm.value).subscribe({next:()=>{this.messageService.add({severity:"success",summary:"\xc9xito",detail:"Usuario registrado"}),this.loading=!1,this.registerForm.reset()},error:t=>{this.messageService.add({severity:"error",summary:"Ups",detail:`${t}`}),this.loading=!1}}))}isValidField(t){return F(t,this.registerForm)}displayError(t){return b(t,this.registerForm)}static#e=this.\u0275fac=function(s){return new(s||i)(e.rXU(n.ok),e.rXU(j),e.rXU(p.bg))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-register-page"]],decls:37,vars:14,consts:[["autocomplete","off",1,"surface-section","py-6","px-4","justify-content-center",3,"formGroup","ngSubmit"],[1,"font-medium","text-primary"],[1,"w-full","sm:w-auto"],[1,"mt-5"],["formControlName","type","optionLabel","name","optionValue","value",3,"options","multiple","onOptionClick"],["class","ml-2 text-red-500",4,"ngIf"],[1,"formgrid","grid","justify-content-center","sm:justify-content-start"],[1,"p-float-label","mt-5"],["required","","formControlName","name","type","text","pInputText","","id","name",1,"mx-2","w-full","sm:w-auto"],["htmlFor","name"],["formControlName","secondName","type","text","pInputText","","id","secondName",1,"mx-2","w-full","sm:w-auto"],["htmlFor","secondName"],["formControlName","lastName","type","text","pInputText","","id","lastName",1,"mx-2","w-full","sm:w-auto"],["htmlFor","lastName"],["formControlName","motherName","type","text","pInputText","","id","motherName",1,"mx-2","w-full","sm:w-auto"],["htmlFor","motherName"],["class","w-full sm:w-auto",4,"ngIf"],[3,"label","invalid","isLoading"],["position","top-center"],[1,"ml-2","text-red-500"],["formControlName","enrollmentNum","type","text","pInputText","","id","enrollmentNum",1,"mx-2","w-full","sm:w-auto"],["htmlFor","enrollmentNum"],["formControlName","employeeKey","type","text","pInputText","","id","employeeKey",1,"mx-2","w-full","sm:w-auto"],["htmlFor","employeeKey"],["formControlName","address","type","text","pInputText","","id","address",1,"mx-2","w-full","sm:w-auto"],["htmlFor","address"]],template:function(s,o){1&s&&(e.j41(0,"form",0),e.bIt("ngSubmit",function(){return o.onSave()}),e.j41(1,"p",1),e.EFF(2,"Da de alta a un nuevo usuario, seleccionando por tipo:"),e.k0s(),e.j41(3,"div",2)(4,"div",3)(5,"p-selectButton",4),e.bIt("onOptionClick",function(l){return o.selectedOption(l)}),e.k0s()(),e.DNE(6,Qt,2,1,"small",5),e.k0s(),e.j41(7,"div",6)(8,"div",2)(9,"div",7),e.nrm(10,"input",8),e.j41(11,"label",9),e.EFF(12,"Nombre"),e.k0s()(),e.DNE(13,Zt,2,1,"small",5),e.k0s(),e.j41(14,"div",2)(15,"div",7),e.nrm(16,"input",10),e.j41(17,"label",11),e.EFF(18,"Segundo nombre"),e.k0s()(),e.DNE(19,ei,2,1,"small",5),e.k0s(),e.j41(20,"div",2)(21,"div",7),e.nrm(22,"input",12),e.j41(23,"label",13),e.EFF(24,"Apellido"),e.k0s()(),e.DNE(25,ti,2,1,"small",5),e.k0s(),e.j41(26,"div",2)(27,"div",7),e.nrm(28,"input",14),e.j41(29,"label",15),e.EFF(30,"Apellido materno"),e.k0s()(),e.DNE(31,ii,2,1,"small",5),e.k0s(),e.DNE(32,oi,6,1,"div",16),e.DNE(33,ri,6,1,"div",16),e.DNE(34,li,6,1,"div",16),e.k0s(),e.nrm(35,"dashboard-add-button",17)(36,"p-toast",18),e.k0s()),2&s&&(e.Y8G("formGroup",o.registerForm),e.R7$(5),e.Y8G("options",o.userTypes)("multiple",!1),e.R7$(1),e.Y8G("ngIf",o.isValidField("type")),e.R7$(7),e.Y8G("ngIf",o.isValidField("name")),e.R7$(6),e.Y8G("ngIf",o.isValidField("secondName")),e.R7$(6),e.Y8G("ngIf",o.isValidField("lastName")),e.R7$(6),e.Y8G("ngIf",o.isValidField("motherName")),e.R7$(1),e.Y8G("ngIf",o.isStudent),e.R7$(1),e.Y8G("ngIf",o.isEmployee),e.R7$(1),e.Y8G("ngIf",o.isStudent),e.R7$(1),e.Y8G("label","Crear usuario")("invalid",o.registerForm.invalid)("isLoading",o.loading))},dependencies:[h.bT,n.qT,n.me,n.BC,n.cb,n.YS,n.j4,n.JD,f.S,N.JC,g.y8,y],encapsulation:2})}return i})();function ci(i,r){1&i&&(e.j41(0,"tr")(1,"th",5),e.EFF(2,"Nombre"),e.k0s(),e.j41(3,"th",5),e.EFF(4,"Segundo nombre"),e.k0s(),e.j41(5,"th",5),e.EFF(6,"Apellido"),e.k0s(),e.j41(7,"th",5),e.EFF(8,"Apellido materno"),e.k0s(),e.j41(9,"th",5),e.EFF(10,"Num. de empleado"),e.k0s()())}function ui(i,r){if(1&i&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td"),e.EFF(10),e.k0s()()),2&i){const t=r.$implicit;e.R7$(2),e.JRh(t.name),e.R7$(2),e.JRh(t.secondName),e.R7$(2),e.JRh(t.lastName),e.R7$(2),e.JRh(t.motherName),e.R7$(2),e.JRh(t.employeeKey)}}const mi=function(){return{"min-width":"50rem"}},di=function(){return[10,20]};let hi=(()=>{class i{constructor(t){this.usersService=t}ngOnInit(){this.getAdministrativesList()}getAdministrativesList(){this.usersService.getAdministratives().subscribe(t=>this.administratives=t)}static#e=this.\u0275fac=function(s){return new(s||i)(e.rXU(j))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-registered-administratives-page"]],decls:6,vars:8,consts:[[1,"card","surface-section","py-6","px-4"],[1,"text-primary","ml-2","mt-4"],["currentPageReportTemplate","Mostrando {first} a {last} de {totalRecords} entradas","paginatorLocale","es-Es",3,"value","paginator","rows","showCurrentPageReport","tableStyle","rowsPerPageOptions"],["pTemplate","header"],["pTemplate","body"],[2,"width","20%"]],template:function(s,o){1&s&&(e.j41(0,"div",0)(1,"p",1),e.EFF(2,"Lista de administrativos registrados:"),e.k0s(),e.j41(3,"p-table",2),e.DNE(4,ci,11,0,"ng-template",3),e.DNE(5,ui,11,5,"ng-template",4),e.k0s()()),2&s&&(e.R7$(3),e.Y8G("value",o.administratives)("paginator",!0)("rows",5)("showCurrentPageReport",!0)("tableStyle",e.lJ4(6,mi))("rowsPerPageOptions",e.lJ4(7,di)))},dependencies:[p.Ei,d.XI],encapsulation:2})}return i})();function gi(i,r){1&i&&(e.j41(0,"tr")(1,"th",5),e.EFF(2,"Nombre"),e.k0s(),e.j41(3,"th",5),e.EFF(4,"Segundo nombre"),e.k0s(),e.j41(5,"th",5),e.EFF(6,"Apellido"),e.k0s(),e.j41(7,"th",5),e.EFF(8,"Apellido materno"),e.k0s(),e.j41(9,"th",5),e.EFF(10,"Num. de empleado"),e.k0s()())}function fi(i,r){if(1&i&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td"),e.EFF(10),e.k0s()()),2&i){const t=r.$implicit;e.R7$(2),e.JRh(t.name),e.R7$(2),e.JRh(t.secondName),e.R7$(2),e.JRh(t.lastName),e.R7$(2),e.JRh(t.motherName),e.R7$(2),e.JRh(t.employeeKey)}}const _i=function(){return{"min-width":"50rem"}},Fi=function(){return[10,20]};let bi=(()=>{class i{constructor(t){this.usersService=t}ngOnInit(){this.getProfessorsList()}getProfessorsList(){this.usersService.getProfessors().subscribe(t=>this.professors=t)}static#e=this.\u0275fac=function(s){return new(s||i)(e.rXU(j))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["dashboard-registered-professors-page"]],decls:6,vars:8,consts:[[1,"card","surface-section","py-6","px-4"],[1,"text-primary","ml-2","mt-4"],["currentPageReportTemplate","Mostrando {first} a {last} de {totalRecords} entradas","paginatorLocale","es-Es",3,"value","paginator","rows","showCurrentPageReport","tableStyle","rowsPerPageOptions"],["pTemplate","header"],["pTemplate","body"],[2,"width","10%"]],template:function(s,o){1&s&&(e.j41(0,"div",0)(1,"p",1),e.EFF(2,"Lista de maestros registrados:"),e.k0s(),e.j41(3,"p-table",2),e.DNE(4,gi,11,0,"ng-template",3),e.DNE(5,fi,11,5,"ng-template",4),e.k0s()()),2&s&&(e.R7$(3),e.Y8G("value",o.professors)("paginator",!0)("rows",5)("showCurrentPageReport",!0)("tableStyle",e.lJ4(6,_i))("rowsPerPageOptions",e.lJ4(7,Fi)))},dependencies:[p.Ei,d.XI],encapsulation:2})}return i})();function ki(i,r){1&i&&(e.j41(0,"tr")(1,"th",5),e.EFF(2,"Nombre"),e.k0s(),e.j41(3,"th",5),e.EFF(4,"Segundo nombre"),e.k0s(),e.j41(5,"th",5),e.EFF(6,"Apellido"),e.k0s(),e.j41(7,"th",5),e.EFF(8,"Apellido materno"),e.k0s(),e.j41(9,"th",5),e.EFF(10,"Matr\xedcula"),e.k0s(),e.j41(11,"th",6),e.EFF(12,"Direcci\xf3n"),e.k0s()())}function vi(i,r){if(1&i&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td"),e.EFF(10),e.k0s(),e.j41(11,"td"),e.EFF(12),e.k0s()()),2&i){const t=r.$implicit;e.R7$(2),e.JRh(t.name),e.R7$(2),e.JRh(t.secondName),e.R7$(2),e.JRh(t.lastName),e.R7$(2),e.JRh(t.motherName),e.R7$(2),e.JRh(t.enrollmentNum),e.R7$(2),e.JRh(t.address)}}const Ei=function(){return{"min-width":"50rem"}},yi=function(){return[10,20]};let Ri=(()=>{class i{constructor(t){this.usersService=t}ngOnInit(){this.getStudentsList()}getStudentsList(){this.usersService.getStudents().subscribe(t=>this.students=t)}static#e=this.\u0275fac=function(s){return new(s||i)(e.rXU(j))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-registered-students-page"]],decls:6,vars:8,consts:[[1,"card","surface-section","py-6","px-4"],[1,"text-primary","ml-2","mt-4"],["currentPageReportTemplate","Mostrando {first} a {last} de {totalRecords} entradas","paginatorLocale","es-Es",3,"value","paginator","rows","showCurrentPageReport","tableStyle","rowsPerPageOptions"],["pTemplate","header"],["pTemplate","body"],[2,"width","10%"],[2,"width","20%"]],template:function(s,o){1&s&&(e.j41(0,"div",0)(1,"p",1),e.EFF(2,"Lista de estudiantes registrados:"),e.k0s(),e.j41(3,"p-table",2),e.DNE(4,ki,13,0,"ng-template",3),e.DNE(5,vi,13,6,"ng-template",4),e.k0s()()),2&s&&(e.R7$(3),e.Y8G("value",o.students)("paginator",!0)("rows",5)("showCurrentPageReport",!0)("tableStyle",e.lJ4(6,Ei))("rowsPerPageOptions",e.lJ4(7,yi)))},dependencies:[p.Ei,d.XI],encapsulation:2})}return i})(),T=(()=>{class i{constructor(t){this.http=t,this.baseUrl=R.M.BASE_URL}getThesis(){return this.http.get(`${this.baseUrl}/thesis`).pipe((0,u.W)(t=>(0,m.u)(t)))}postThesis(t){return this.http.post(`${this.baseUrl}/thesis`,t).pipe((0,u.W)(s=>(0,m.u)(s)))}deleteThesis(t){return this.http.delete(`${this.baseUrl}/thesis/${t}`).pipe((0,u.W)(s=>(0,m.u)(s)))}updateThesis(t,s){return this.http.put(`${this.baseUrl}/thesis/${t}`,s).pipe((0,u.W)(o=>(0,m.u)(o)))}static#e=this.\u0275fac=function(s){return new(s||i)(e.KVO(E.Qq))};static#t=this.\u0275prov=e.jDH({token:i,factory:i.\u0275fac})}return i})();function ji(i,r){if(1&i&&(e.j41(0,"small",22),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(1),e.JRh(t.displayError("title"))}}function xi(i,r){if(1&i&&(e.j41(0,"small",22),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(1),e.JRh(t.displayError("authorOne"))}}function Ti(i,r){if(1&i&&(e.j41(0,"small",22),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(1),e.JRh(t.displayError("assessor"))}}function Ci(i,r){if(1&i&&(e.j41(0,"small",22),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(1),e.JRh(t.displayError("year"))}}let Si=(()=>{class i{constructor(t,s,o){this.fb=t,this.thesisService=s,this.messageService=o,this.form=this.fb.group({title:["",[n.k0.required]],authorOne:["",[n.k0.required]],authorTwo:[""],authorThree:[""],assessor:["",[n.k0.required]],year:[null,[n.k0.required,n.k0.minLength(4),n.k0.maxLength(4)]]}),this.loading=!1}onSave(){this.form.invalid?this.form.markAllAsTouched():(this.loading=!0,this.thesisService.postThesis(this.form.value).subscribe({next:()=>{this.messageService.add({severity:"success",summary:"\xc9xito",detail:"Tesis agregada correctamente"}),this.loading=!1,this.form.reset()},error:t=>{this.messageService.add({severity:"error",summary:"Ups",detail:`${t}`}),this.loading=!1}}))}isValidField(t){return F(t,this.form)}displayError(t){return b(t,this.form)}static#e=this.\u0275fac=function(s){return new(s||i)(e.rXU(n.ok),e.rXU(T),e.rXU(p.bg))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-add-thesis-page"]],decls:44,vars:7,consts:[[1,"card","surface-section","p-6"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"font-medium","text-primary","text-center","sm:text-left"],[1,"formgrid","grid"],[1,"col-12","sm:col-6","field"],[1,"p-float-label","mt-5"],["required","","formControlName","title","type","text","pInputText","","id","title",1,"w-full"],["htmlFor","title"],["class","ml-2 text-red-500",4,"ngIf"],["required","","formControlName","authorOne","type","text","pInputText","","id","authorOne",1,"w-full"],["htmlFor","authorOne"],["formControlName","authorTwo","type","text","pInputText","","id","authorTwo",1,"w-full"],["htmlFor","authorTwo"],["formControlName","authorThree","type","text","pInputText","","id","authorThree",1,"w-full"],["htmlFor","authorThree"],["required","","formControlName","assessor","type","text","pInputText","","id","assessor",1,"w-full"],["htmlFor","assessor"],["required","","formControlName","year","type","year","pInputText","","id","year",1,"w-full"],["htmlFor","year"],[1,"flex","w-full","flex-column","sm:w-6"],[3,"isLoading","invalid"],["position","top-center"],[1,"ml-2","text-red-500"]],template:function(s,o){1&s&&(e.j41(0,"div",0)(1,"form",1),e.bIt("ngSubmit",function(){return o.onSave()}),e.j41(2,"p",2),e.EFF(3,"Agrega una nueva tesis a la colecci\xf3n"),e.k0s(),e.j41(4,"div",3)(5,"div",4)(6,"span",5),e.nrm(7,"input",6),e.j41(8,"label",7),e.EFF(9,"T\xedtulo de la tesis"),e.k0s()(),e.DNE(10,ji,2,1,"small",8),e.k0s(),e.j41(11,"div",4)(12,"span",5),e.nrm(13,"input",9),e.j41(14,"label",10),e.EFF(15,"Nombre del primer autor"),e.k0s()(),e.DNE(16,xi,2,1,"small",8),e.k0s()(),e.j41(17,"div",3)(18,"div",4)(19,"span",5),e.nrm(20,"input",11),e.j41(21,"label",12),e.EFF(22,"Nombre del segundo autor"),e.k0s()()(),e.j41(23,"div",4)(24,"span",5),e.nrm(25,"input",13),e.j41(26,"label",14),e.EFF(27,"Nombre del tercer autor"),e.k0s()()()(),e.j41(28,"div",3)(29,"div",4)(30,"span",5),e.nrm(31,"input",15),e.j41(32,"label",16),e.EFF(33,"Nombre del asesor"),e.k0s()(),e.DNE(34,Ti,2,1,"small",8),e.k0s(),e.j41(35,"div",4)(36,"span",5),e.nrm(37,"input",17),e.j41(38,"label",18),e.EFF(39,"A\xf1o"),e.k0s()(),e.DNE(40,Ci,2,1,"small",8),e.k0s()(),e.j41(41,"div",19),e.nrm(42,"dashboard-add-button",20),e.k0s(),e.nrm(43,"p-toast",21),e.k0s()()),2&s&&(e.R7$(1),e.Y8G("formGroup",o.form),e.R7$(9),e.Y8G("ngIf",o.isValidField("title")),e.R7$(6),e.Y8G("ngIf",o.isValidField("authorOne")),e.R7$(18),e.Y8G("ngIf",o.isValidField("assessor")),e.R7$(6),e.Y8G("ngIf",o.isValidField("year")),e.R7$(2),e.Y8G("isLoading",o.loading)("invalid",o.form.invalid))},dependencies:[h.bT,n.qT,n.me,n.BC,n.cb,n.YS,n.j4,n.JD,f.S,g.y8,y],encapsulation:2})}return i})();function $i(i,r){if(1&i&&(e.j41(0,"small",18),e.EFF(1),e.k0s()),2&i){const t=e.XpG(2);e.R7$(1),e.JRh(t.displayError("title"))}}function wi(i,r){if(1&i&&(e.j41(0,"small",18),e.EFF(1),e.k0s()),2&i){const t=e.XpG(2);e.R7$(1),e.SpI("",t.displayError("authorOne")," ")}}function Ni(i,r){if(1&i&&(e.j41(0,"small",18),e.EFF(1),e.k0s()),2&i){const t=e.XpG(2);e.R7$(1),e.SpI("",t.displayError("assessor")," ")}}function Pi(i,r){if(1&i&&(e.j41(0,"small",18),e.EFF(1),e.k0s()),2&i){const t=e.XpG(2);e.R7$(1),e.JRh(t.displayError("year"))}}function Ii(i,r){if(1&i&&(e.j41(0,"form",3)(1,"div",4)(2,"label",5),e.EFF(3,"T\xedtulo"),e.k0s(),e.nrm(4,"input",6),e.DNE(5,$i,2,1,"small",7),e.k0s(),e.j41(6,"div",4)(7,"label",8),e.EFF(8,"Autor"),e.k0s(),e.nrm(9,"input",9),e.DNE(10,wi,2,1,"small",7),e.k0s(),e.j41(11,"div",4)(12,"label",10),e.EFF(13,"Autor dos"),e.k0s(),e.nrm(14,"input",11),e.k0s(),e.j41(15,"div",4)(16,"label",12),e.EFF(17,"Autor tres"),e.k0s(),e.nrm(18,"input",13),e.k0s(),e.j41(19,"div",4)(20,"label",14),e.EFF(21,"Asesor"),e.k0s(),e.nrm(22,"input",15),e.DNE(23,Ni,2,1,"small",7),e.k0s(),e.j41(24,"div",4)(25,"label",16),e.EFF(26,"A\xf1o"),e.k0s(),e.nrm(27,"input",17),e.DNE(28,Pi,2,1,"small",7),e.k0s()()),2&i){const t=e.XpG();e.Y8G("formGroup",t.form),e.R7$(5),e.Y8G("ngIf",t.isValidField("title")),e.R7$(5),e.Y8G("ngIf",t.isValidField("authorOne")),e.R7$(13),e.Y8G("ngIf",t.isValidField("assessor")),e.R7$(5),e.Y8G("ngIf",t.isValidField("year"))}}function Gi(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",19),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.hideDialog())}),e.k0s(),e.j41(1,"button",20),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.save())}),e.k0s()}}const q=function(){return{width:"450px"}};let Li=(()=>{class i{ngOnInit(){this.utilitiesService.isVisible$.subscribe(t=>{this.isVisible=t})}ngOnChanges(t){t.thesis&&this.patchFormValues()}constructor(t,s,o,a){this.fb=t,this.messageService=s,this.thesisService=o,this.utilitiesService=a,this.updatedList=new e.bkB,this.isVisible=!1,this.form=this.fb.group({title:[this.thesis?.title,[n.k0.required]],authorOne:[this.thesis?.authorOne,[n.k0.required]],authorTwo:[this.thesis?.authorTwo],authorThree:[this.thesis?.authorThree],year:[this.thesis?.year,[n.k0.required,n.k0.minLength(4),n.k0.maxLength(4)]],assessor:[this.thesis?.assessor,[n.k0.required]]})}hideDialog(){this.isVisible=!1}save(){this.form.invalid?this.form.markAllAsTouched():(this.thesisService.updateThesis(this.thesis.id,this.form.value).subscribe({next:()=>{this.messageService.add({severity:"success",summary:"\xc9xito",detail:"Se actualiz\xf3 el registro"}),this.thesisService.getThesis().subscribe(t=>this.updatedList.emit(t))},error:t=>{this.messageService.add({severity:"error",summary:"Ups!",detail:`${t}`})}}),this.isVisible=!1)}isValidField(t){return F(t,this.form)}displayError(t){return b(t,this.form)}patchFormValues(){this.thesis&&this.form.patchValue(this.thesis)}static#e=this.\u0275fac=function(s){return new(s||i)(e.rXU(n.ok),e.rXU(p.bg),e.rXU(T),e.rXU(v))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["dashboard-modal-thesis"]],inputs:{thesis:"thesis"},outputs:{updatedList:"updatedList"},features:[e.OA$],decls:4,vars:8,consts:[["header","Editar libro","styleClass","p-fluid",3,"visible","modal","visibleChange"],["pTemplate","content"],["pTemplate","footer"],[3,"formGroup"],[1,"field"],["for","title"],["formControlName","title","type","text","pInputText","","id","title","required",""],["class","ml-2 text-red-500",4,"ngIf"],["for","authorOne"],["formControlName","authorOne","type","text","pInputText","","id","authorOne","required",""],["for","authorTwo"],["formControlName","authorTwo","type","text","pInputText","","id","authorTwo"],["for","authorThree"],["formControlName","authorThree","type","authorThree","pInputText","","id","authorThree"],["for","assessor"],["formControlName","assessor","type","text","pInputText","","id","assessor","required",""],["for","year"],["formControlName","year","type","number","pInputText","","id","year","required",""],[1,"ml-2","text-red-500"],["pButton","","pRipple","","label","Cancelar","icon","pi pi-times",1,"p-button-text",3,"click"],["pButton","","pRipple","","label","Guardar","icon","pi pi-check",1,"p-button-text",3,"click"]],template:function(s,o){1&s&&(e.j41(0,"p-dialog",0),e.bIt("visibleChange",function(l){return o.isVisible=l}),e.DNE(1,Ii,29,5,"ng-template",1),e.DNE(2,Gi,2,0,"ng-template",2),e.k0s(),e.nrm(3,"p-confirmDialog")),2&s&&(e.Aen(e.lJ4(6,q)),e.Y8G("visible",o.isVisible)("modal",!0),e.R7$(3),e.Aen(e.lJ4(7,q)))},dependencies:[h.bT,n.qT,n.me,n.Q0,n.BC,n.cb,n.YS,n.j4,n.JD,_._f,p.Ei,w.T,L.l,f.S],encapsulation:2})}return i})();const Ai=["dt"];function Bi(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",9)(1,"h5",10),e.EFF(2,"B\xfasqueda por t\xedtulo de la obra o por colecci\xf3n"),e.k0s(),e.j41(3,"span",11),e.nrm(4,"i",12),e.j41(5,"input",13,14),e.bIt("input",function(o){e.eBV(t);const a=e.XpG();return e.Njj(a.applyFilterGlobal(o,"contains"))}),e.k0s()()()}}function Di(i,r){1&i&&(e.j41(0,"tr")(1,"th",15),e.EFF(2,"T\xedtulo"),e.nrm(3,"p-sortIcon",16),e.k0s(),e.j41(4,"th",17),e.EFF(5," Autor"),e.nrm(6,"p-sortIcon",18),e.k0s(),e.j41(7,"th",19),e.EFF(8,"Segundo autor"),e.nrm(9,"p-sortIcon",20),e.k0s(),e.j41(10,"th",21),e.EFF(11," Asesor"),e.nrm(12,"p-sortIcon",22),e.k0s(),e.j41(13,"th",23),e.EFF(14,"A\xf1o"),e.nrm(15,"p-sortIcon",24),e.k0s(),e.nrm(16,"th"),e.k0s())}function Vi(i,r){if(1&i){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td"),e.EFF(10),e.k0s(),e.j41(11,"td")(12,"button",25),e.bIt("click",function(){const a=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.edit(a))}),e.k0s(),e.j41(13,"button",26),e.bIt("click",function(){const a=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.delete(a))}),e.k0s()()()}if(2&i){const t=r.$implicit;e.R7$(2),e.JRh(t.title),e.R7$(2),e.JRh(t.authorOne),e.R7$(2),e.JRh(t.authorTwo),e.R7$(2),e.JRh(t.assessor),e.R7$(2),e.JRh(t.year)}}function Xi(i,r){if(1&i&&(e.j41(0,"div",27),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(1),e.SpI(" Hay un total de ",t.thesisList?t.thesisList.length:0," Tesis registradas ")}}const Ji=function(){return["title","collection"]},Ui=function(){return{"min-width":"75rem"}};let Yi=(()=>{class i{ngOnInit(){this.thesisService.getThesis().subscribe(t=>this.thesisList=t),this.utilitiesService.setVisibility(!1)}constructor(t,s,o,a){this.confirmationService=t,this.messageService=s,this.thesisService=o,this.utilitiesService=a,this.thesisList=[]}edit(t){this.utilitiesService.setVisibility(!0),this.thesis=t}delete(t){this.confirmationService.confirm({message:"\xbfEst\xe1s seguro de eliminar: "+t.title+"?",header:"Confirmar acci\xf3n",icon:"pi pi-exclamation-triangle",accept:()=>{this.thesisService.deleteThesis(t.id).subscribe({next:()=>{this.messageService.add({severity:"success",summary:"\xc9xito",detail:"Libro eliminado",life:3e3}),this.thesisList=this.thesisList.filter(s=>s.id!==t.id)},error:s=>{this.messageService.add({severity:"error",summary:"Error",detail:`${s}`,life:3e3})}})}})}updateThesis(t){this.thesisList=t}applyFilterGlobal(t,s){this.utilitiesService.filtering(t,s,this.dt)}static#e=this.\u0275fac=function(s){return new(s||i)(e.rXU(p.td),e.rXU(p.bg),e.rXU(T),e.rXU(v))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["dashboard-edit-thesis-page"]],viewQuery:function(s,o){if(1&s&&e.GBs(Ai,5),2&s){let a;e.mGM(a=e.lsd())&&(o.dt=a.first)}},decls:11,vars:11,consts:[[1,"card","surface-section","py-6","px-4"],[1,"font-medium","text-primary"],["dataKey","id","currentPageReportTemplate","Mostrando {first} a {last} de {totalRecords} entradas",3,"value","rows","paginator","globalFilterFields","showLoader","tableStyle","rowHover","showCurrentPageReport"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","summary"],[3,"thesis","updatedList"],[1,"flex","align-items-center","justify-content-between"],[1,"m-0"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Buscar...",3,"input"],["textInput",""],["pSortableColumn","title",2,"min-width","15rem"],["field","title"],["pSortableColumn","adquisition",2,"min-width","15rem"],["field","adquisition"],["pSortableColumn","year",2,"min-width","15rem"],["field","year"],["pSortableColumn","collection",2,"min-width","15rem"],["field","collection"],["pSortableColumn","copies",2,"min-width","15rem"],["field","copies"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-success","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-danger",3,"click"],[1,"flex","align-items-center","justify-content-center"]],template:function(s,o){1&s&&(e.j41(0,"div",0)(1,"p",1),e.EFF(2,"Panel para actualizar datos o eliminar elementos"),e.k0s(),e.nrm(3,"p-toast"),e.j41(4,"p-table",2,3),e.DNE(6,Bi,7,0,"ng-template",4),e.DNE(7,Di,17,0,"ng-template",5),e.DNE(8,Vi,14,5,"ng-template",6),e.DNE(9,Xi,2,1,"ng-template",7),e.k0s()(),e.j41(10,"dashboard-modal-thesis",8),e.bIt("updatedList",function(l){return o.updateThesis(l)}),e.k0s()),2&s&&(e.R7$(4),e.Y8G("value",o.thesisList)("rows",10)("paginator",!0)("globalFilterFields",e.lJ4(9,Ji))("showLoader",!0)("tableStyle",e.lJ4(10,Ui))("rowHover",!0)("showCurrentPageReport",!0),e.R7$(6),e.Y8G("thesis",o.thesis))},dependencies:[_._f,p.Ei,f.S,d.XI,d.Tg,d.yc,g.y8,Li],encapsulation:2})}return i})();function qi(i,r){1&i&&(e.j41(0,"tr")(1,"th",5),e.EFF(2,"T\xedtulo"),e.k0s(),e.j41(3,"th",5),e.EFF(4,"Autor uno"),e.k0s(),e.j41(5,"th",5),e.EFF(6,"Autor dos"),e.k0s(),e.j41(7,"th",5),e.EFF(8,"Autor tres"),e.k0s(),e.j41(9,"th",5),e.EFF(10,"Asesor"),e.k0s(),e.j41(11,"th",5),e.EFF(12,"A\xf1o"),e.k0s()())}function Mi(i,r){if(1&i&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td"),e.EFF(10),e.k0s(),e.j41(11,"td"),e.EFF(12),e.k0s()()),2&i){const t=r.$implicit;e.R7$(2),e.JRh(t.title),e.R7$(2),e.JRh(t.authorOne),e.R7$(2),e.JRh(t.authorTwo),e.R7$(2),e.JRh(t.authorThree),e.R7$(2),e.JRh(t.assessor),e.R7$(2),e.JRh(t.year)}}const Oi=function(){return{"min-width":"50rem"}},Ki=function(){return[10,20]},Wi=[{path:"",component:oe,children:[{path:"books",component:Ae},{path:"add-book",component:Ne},{path:"edit-book",component:it},{path:"thesis",component:(()=>{class i{ngOnInit(){this.thesisService.getThesis().subscribe(t=>this.thesis=t)}constructor(t){this.thesisService=t,this.thesis=[]}static#e=this.\u0275fac=function(s){return new(s||i)(e.rXU(T))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-thesis-page"]],decls:6,vars:8,consts:[[1,"card","surface-section","py-6","px-4"],[1,"font-medium","text-primary"],["currentPageReportTemplate","Mostrando {first} a {last} de {totalRecords} entradas","paginatorLocale","es-Es",3,"value","paginator","rows","showCurrentPageReport","tableStyle","rowsPerPageOptions"],["pTemplate","header"],["pTemplate","body"],[2,"width","10%"]],template:function(s,o){1&s&&(e.j41(0,"div",0)(1,"p",1),e.EFF(2,"Inventario de tesis dadas de alta"),e.k0s(),e.j41(3,"p-table",2),e.DNE(4,qi,13,0,"ng-template",3),e.DNE(5,Mi,13,6,"ng-template",4),e.k0s()()),2&s&&(e.R7$(3),e.Y8G("value",o.thesis)("paginator",!0)("rows",5)("showCurrentPageReport",!0)("tableStyle",e.lJ4(6,Oi))("rowsPerPageOptions",e.lJ4(7,Ki)))},dependencies:[p.Ei,d.XI],encapsulation:2})}return i})()},{path:"add-thesis",component:Si},{path:"edit-thesis",component:Yi},{path:"publications",component:Ht},{path:"add-publication",component:Tt},{path:"edit-publication",component:Mt},{path:"loans",component:dt},{path:"new-loan",component:gt},{path:"register-user",component:pi},{path:"registered-students",component:Ri},{path:"registered-professors",component:bi},{path:"registered-administratives",component:hi},{path:"new-account",component:he},{path:"registered-accounts",component:ye},{path:"change-password",component:le},{path:"welcome",component:(()=>{class i{constructor(t,s){this.accountsService=t,this.usersService=s,this.accounts=[],this.date=new Date,this.users=[]}ngOnInit(){this.accountsService.getAccountsList().subscribe(t=>this.accounts=t),this.usersService.getAllUsers().subscribe(t=>this.users=t)}static#e=this.\u0275fac=function(s){return new(s||i)(e.rXU(S),e.rXU(j))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-welcome-page"]],decls:60,vars:5,consts:[[1,"surface-section","px-4","py-5","md:px-6","lg:px-8"],[1,"flex","align-items-start","flex-column","lg:justify-content-between","lg:flex-row"],[1,"flex","align-items-center","text-700","flex-wrap"],[1,"mr-5","flex","align-items-center","mt-3"],[1,"pi","pi-id-card","mr-2"],[1,"pi","pi-users","mr-2"],[1,"flex","align-items-center","mt-3"],[1,"pi","pi-clock","mr-2"],[1,"mt-3","lg:mt-0"],[1,"surface-section","px-4","py-4","md:px-6","lg:px-8","text-center"],[1,"mb-6","font-bold","text-3xl"],[1,"text-900"],[1,"text-primary"],[1,"grid"],[1,"col-12","md:col-4","mb-4","px-5"],[1,"p-3","shadow-2","mb-3","inline-block","surface-card",2,"border-radius","10px"],[1,"pi","pi-desktop","text-4xl","text-primary"],[1,"text-900","text-xl","mb-3","font-medium"],[1,"text-700","line-height-3"],[1,"pi","pi-lock","text-4xl","text-primary"],[1,"pi","pi-check-circle","text-4xl","text-primary"],[1,"pi","pi-globe","text-4xl","text-primary"],[1,"col-12","md:col-4","md:mb-4","mb-0","px-3"],[1,"pi","pi-shield","text-4xl","text-primary"]],template:function(s,o){1&s&&(e.j41(0,"div",0)(1,"div",1)(2,"div")(3,"div",2)(4,"div",3),e.nrm(5,"i",4),e.j41(6,"span"),e.EFF(7),e.k0s()(),e.j41(8,"div",3),e.nrm(9,"i",5),e.j41(10,"span"),e.EFF(11),e.k0s()(),e.j41(12,"div",6),e.nrm(13,"i",7),e.j41(14,"span"),e.EFF(15),e.nI1(16,"date"),e.k0s()()()(),e.nrm(17,"div",8),e.k0s()(),e.j41(18,"div",9)(19,"div",10)(20,"span",11),e.EFF(21,"Sistema de Gesti\xf3n Bibliotecario"),e.k0s(),e.j41(22,"span",12),e.EFF(23," (SISGEB)"),e.k0s()(),e.j41(24,"div",13)(25,"div",14)(26,"span",15),e.nrm(27,"i",16),e.k0s(),e.j41(28,"div",17),e.EFF(29,"Gestiona"),e.k0s(),e.j41(30,"span",18),e.EFF(31,"Desde cualquier lugar, solo necesitas acceso tus credenciales y acceso a internet."),e.k0s()(),e.j41(32,"div",14)(33,"span",15),e.nrm(34,"i",19),e.k0s(),e.j41(35,"div",17),e.EFF(36,"Seguridad"),e.k0s(),e.j41(37,"span",18),e.EFF(38,"Con nuestro sistema de autenticaci\xf3n, tu informaci\xf3n siempre estar\xe1 a salvo."),e.k0s()(),e.j41(39,"div",14)(40,"span",15),e.nrm(41,"i",20),e.k0s(),e.j41(42,"div",17),e.EFF(43,"F\xe1cil de usar"),e.k0s(),e.j41(44,"span",18),e.EFF(45,"El dise\xf1o intuitivo y de facil acceso, permite crear y gestionar registros f\xe1cilmente."),e.k0s()(),e.j41(46,"div",14)(47,"span",15),e.nrm(48,"i",21),e.k0s(),e.j41(49,"div",17),e.EFF(50,"R\xe1pido y de acceso global"),e.k0s(),e.j41(51,"span",18),e.EFF(52,"Ten seguridad y confianza al momento de acceder a tus registros."),e.k0s()(),e.j41(53,"div",22)(54,"span",15),e.nrm(55,"i",23),e.k0s(),e.j41(56,"div",17),e.EFF(57,"Confiable"),e.k0s(),e.j41(58,"span",18),e.EFF(59,"Gestiona las cuentas e informaci\xf3n personal de manera eficiente."),e.k0s()()()()),2&s&&(e.R7$(7),e.SpI("Cuentas registradas: ",o.accounts.length,""),e.R7$(4),e.SpI("Total usuarios: ",o.users.length,""),e.R7$(4),e.SpI("\xdaltima sesi\xf3n: ",e.bMT(16,3,o.date),""))},dependencies:[h.vh],encapsulation:2})}return i})()}]}];let zi=(()=>{class i{static#e=this.\u0275fac=function(s){return new(s||i)};static#t=this.\u0275mod=e.$C({type:i});static#i=this.\u0275inj=e.G2t({imports:[G.iI.forChild(Wi),G.iI]})}return i})();var M=c(7743);let Hi=(()=>{class i{static#e=this.\u0275fac=function(s){return new(s||i)};static#t=this.\u0275mod=e.$C({type:i});static#i=this.\u0275inj=e.G2t({imports:[h.MD,M.t,n.YN]})}return i})(),Qi=(()=>{class i{static#e=this.\u0275fac=function(s){return new(s||i)};static#t=this.\u0275mod=e.$C({type:i});static#i=this.\u0275inj=e.G2t({providers:[p.td,p.bg,T,v],imports:[h.MD,n.X1,zi,Hi,M.t]})}return i})()}}]);